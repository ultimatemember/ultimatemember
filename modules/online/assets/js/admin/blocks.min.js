wp.blocks.registerBlockType("um-block/um-online",{title:wp.i18n.__("UM online members","ultimate-member"),description:wp.i18n.__("Displaying online members","ultimate-member"),icon:"groups",category:"um-blocks",attributes:{max:{type:"string"},role:{type:"select"},content:{source:"html",selector:"p"}},edit:wp.data.withSelect(function(e){return{roles:um_online_roles}})(function(l){var e=l.roles,t=l.className,n=(l.attributes,l.setAttributes,l.attributes.role),m=l.attributes.content,r=l.attributes.max;function i(e,t){var n="[ultimatemember_online";void 0!==e&&""!==e&&(n=n+' max="'+e+'"'),void 0!==t&&0!==t.length&&(n=n+' roles="'+t+'"'),l.setAttributes({content:n+="]"})}if(!e)return wp.element.createElement("p",{className:t},wp.element.createElement(wp.components.Spinner,null),wp.i18n.__("Loading roles","ultimate-member"));if(0===e.length)return wp.element.createElement("p",null,wp.i18n.__("No roles","ultimate-member"));void 0===m&&l.setAttributes({content:"[ultimatemember_online]"});var o,a,e=(o=e,a=[],Object.keys(o).map(function(e){a.push({label:o[e],value:e})}),a);return[wp.element.createElement("div",{className:"um-online-members-wrapper"},wp.i18n.__("Online members","ultimate-member")),wp.element.createElement(wp.blockEditor.InspectorControls,{},wp.element.createElement(wp.components.PanelBody,{title:wp.i18n.__("Online members","ultimate-member")},wp.element.createElement(wp.components.SelectControl,{label:wp.i18n.__("Select role","ultimate-member"),className:"um_select_role",value:l.attributes.role,options:e,multiple:!0,style:{height:"80px"},suffix:" ",onChange:function(e){l.setAttributes({role:e}),i(r,e)}}),wp.element.createElement(wp.components.TextControl,{label:wp.i18n.__("Maximum amount of members shown on a one screen","ultimate-member"),className:"um_select_max",type:"number",value:l.attributes.max,min:0,onChange:function(e){l.setAttributes({max:e}),i(e,n)}})))]}),save:function(e){return wp.element.createElement(wp.editor.RichText.Content,{tagName:"p",className:e.className,value:e.attributes.content})}});