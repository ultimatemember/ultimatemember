wp.blocks.registerBlockType("um-block/um-member-directories",{title:wp.i18n.__("Member Directory","ultimate-member"),description:wp.i18n.__("Choose display directory","ultimate-member"),icon:"groups",category:"um-blocks",attributes:{content:{source:"html",selector:"p"},member_id:{type:"select"}},edit:wp.data.withSelect(function(e){return{posts:e("core").getEntityRecords("postType","um_directory",{per_page:-1})}})(function(t){var e=t.posts,r=t.className,n=(t.attributes,t.setAttributes,t.attributes.member_id);t.attributes.content;function i(e){return void 0!==e?'[ultimatemember form_id="'+e+'"]':""}if(!e)return wp.element.createElement("p",{className:r},wp.element.createElement(wp.components.Spinner,null),wp.i18n.__("Loading Forms","ultimate-member"));if(0===e.length)return wp.element.createElement("p",null,wp.i18n.__("No Posts","ultimate-member"));void 0===n&&(t.setAttributes({member_id:e[0].id}),r=i(e[0].id),t.setAttributes({content:r}));var m,e=(m=[],e.map(function(e){m.push({label:e.title.rendered,value:e.id})}),m);return[wp.element.createElement("div",{className:"um-member-directory-wrapper"},wp.i18n.__("UM Member Directory","ultimate-member")),wp.element.createElement(wp.blockEditor.InspectorControls,{},wp.element.createElement(wp.components.PanelBody,{title:wp.i18n.__("UM Member Directory","ultimate-member")},wp.element.createElement(wp.components.SelectControl,{label:wp.i18n.__("Select Directories","ultimate-member"),className:"um_select_directory",type:"number",value:n,options:e,style:{height:"35px",lineHeight:"20px",padding:"0 7px"},onChange:function(e){t.setAttributes({member_id:e});e=i(e);t.setAttributes({content:e})}})))]}),save:function(e){return wp.element.createElement(wp.editor.RichText.Content,{tagName:"p",className:e.className,value:e.attributes.content})}});