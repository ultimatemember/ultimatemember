<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Source: includes/admin/core/class-admin-builder.php - Ultimate Member Hook Docs</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">

	<link href="https://fonts.googleapis.com/css?family=IBM+Plex+Mono|IBM+Plex+Sans:300,400|Playfair+Display:900&display=swap" rel="stylesheet">
    <link type="text/css" rel="stylesheet" href="styles-um.css">
</head>

<body>

<div id="main">

	
    <h1 class="page-title">Source: includes/admin/core/class-admin-builder.php</h1>
	

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>&lt;?php
namespace um\admin\core;

if ( ! defined( 'ABSPATH' ) ) {
	exit;
}

if ( ! class_exists( 'um\admin\core\Admin_Builder' ) ) {


	/**
	 * Class Admin_Builder
	 * @package um\admin\core
	 */
	class Admin_Builder {

		/**
		 * @var int
		 */
		public $form_id;

		/**
		 * @var array
		 */
		public $global_fields = array();

		/**
		 * Admin_Builder constructor.
		 */
		public function __construct() {
			add_action( 'um_admin_field_modal_header', array( &amp;$this, 'add_message_handlers' ) );
			add_action( 'um_admin_field_modal_footer', array( &amp;$this, 'add_conditional_support' ), 10, 4 );
			add_filter( 'um_admin_builder_skip_field_validation', array( &amp;$this, 'skip_field_validation' ), 10, 3 );
			add_filter( 'um_admin_pre_save_field_to_form', array( &amp;$this, 'um_admin_pre_save_field_to_form' ), 1 );
			add_filter( 'um_admin_pre_save_fields_hook', array( &amp;$this, 'um_admin_pre_save_fields_hook' ), 1 );
			add_filter( 'um_admin_field_update_error_handling', array( &amp;$this, 'um_admin_field_update_error_handling' ), 1, 2 );
		}

		/**
		 * Apply a filter to handle errors for field updating in backend.
		 *
		 * @param null|array $errors
		 * @param array      $submission_data
		 *
		 * @return array
		 */
		public function um_admin_field_update_error_handling( $errors, $submission_data ) {
			if ( ! array_key_exists( 'field_type', $submission_data ) ) {
				return $errors;
			}

			$blacklist_error = UM()->builtin()->blacklist_field_err( $submission_data['post']['_metakey'] );
			if ( ! empty( $blacklist_error ) ) {
				$errors['_metakey'] = $blacklist_error;
				return $errors;
			}

			$field_attr = UM()->builtin()->get_core_field_attrs( $submission_data['field_type'] );
			if ( ! array_key_exists( 'validate', $field_attr ) ) {
				return $errors;
			}

			$validate = $field_attr['validate'];
			foreach ( $validate as $post_input => $arr ) {
				/**
				 * Filters the marker for skipping field validation.
				 *
				 * @param {bool}   $skip            Errors list. It's null by default.
				 * @param {string} $post_input      Field key for validation.
				 * @param {array}  $submission_data Update field handler data.
				 *
				 * @return {bool} True for skipping validation.
				 *
				 * @since 2.1.0
				 * @hook um_admin_builder_skip_field_validation
				 *
				 * @example &lt;caption>Skipping validation for the `_options` setting field for `billing_country` and `shipping_country` form fields.&lt;/caption>
				 * function my_custom_um_admin_builder_skip_field_validation( $skip, $post_input, $submission_data ) {
				 *     if ( $post_input === '_options' &amp;&amp; isset( $submission_data['post']['_metakey'] ) &amp;&amp; in_array( $submission_data['post']['_metakey'], array( 'billing_country', 'shipping_country' ), true ) ) {
				 *         $skip = true;
				 *     }
				 *     return $skip;
				 * }
				 * add_filter( 'um_admin_builder_skip_field_validation', 'my_custom_um_admin_builder_skip_field_validation', 10, 3 );
				 */
				$skip = apply_filters( 'um_admin_builder_skip_field_validation', false, $post_input, $submission_data );
				if ( $skip ) {
					continue;
				}

				if ( ! array_key_exists( 'mode', $arr ) ) {
					continue;
				}

				switch ( $arr['mode'] ) {
					case 'numeric':
						if ( ! empty( $submission_data['post'][ $post_input ] ) &amp;&amp; ! is_numeric( $submission_data['post'][ $post_input ] ) ) {
							$errors[ $post_input ] = $arr['error'];
						}
						break;
					case 'unique':
						if ( ! isset( $submission_data['post']['edit_mode'] ) ) {
							$mode_error = UM()->builtin()->unique_field_err( $submission_data['post'][ $post_input ] );
							if ( ! empty( $mode_error ) ) {
								$errors[ $post_input ] = $mode_error;
							}
						}
						break;
					case 'required':
						if ( '' === $submission_data['post'][ $post_input ] ) {
							$errors[ $post_input ] = $arr['error'];
						}
						break;
					case 'range-start':
						if ( 'date_range' === $submission_data['post']['_range'] ) {
							$mode_error = UM()->builtin()->date_range_start_err( $submission_data['post'][ $post_input ] );
							if ( ! empty( $mode_error ) ) {
								$errors[ $post_input ] = $mode_error;
							}
						}
						break;
					case 'range-end':
						if ( 'date_range' === $submission_data['post']['_range'] ) {
							$mode_error = UM()->builtin()->date_range_end_err( $submission_data['post'][ $post_input ], $submission_data['post']['_range_start'] );
							if ( ! empty( $mode_error ) ) {
								$errors[ $post_input ] = $mode_error;
							}
						}
						break;
				}
			}

			return $errors;
		}

		/**
		 * Some fields may require extra fields before saving.
		 *
		 * @param array $submission_data
		 *
		 * @return array
		 */
		public function um_admin_pre_save_fields_hook( $submission_data ) {
			if ( ! array_key_exists( 'form_id', $submission_data ) || ! array_key_exists( 'field_type', $submission_data ) || ! array_key_exists( 'post', $submission_data ) ) {
				return $submission_data;
			}

			$form_id    = $submission_data['form_id'];
			$field_type = $submission_data['field_type'];

			$fields = UM()->query()->get_attr( 'custom_fields', $form_id );
			$count  = 1;
			if ( ! empty( $fields ) ) {
				$count = count( $fields ) + 1;
			}

			// Set unique meta key.
			$fields_without_metakey = UM()->builtin()->get_fields_without_metakey();
			if ( ! array_key_exists( '_metakey', $submission_data['post'] ) &amp;&amp; in_array( $field_type, $fields_without_metakey, true ) ) {
				$submission_data['post']['_metakey'] = "um_{$field_type}_{$form_id}_{$count}";
			}

			// Set position.
			if ( ! array_key_exists( '_position', $submission_data['post'] ) ) {
				$submission_data['post']['_position'] = $count;
			}

			return $submission_data;
		}

		/**
		 * Modify field args just before it is saved into form
		 *
		 * @param $array
		 *
		 * @return mixed
		 */
		function um_admin_pre_save_field_to_form( $array ){
			unset( $array['conditions'] );
			if ( isset($array['conditional_field']) &amp;&amp; ! empty( $array['conditional_action'] ) &amp;&amp; ! empty( $array['conditional_operator'] ) ) {
				$array['conditional_value'] = isset( $array['conditional_value'] ) ? $array['conditional_value'] : '';
				$array['conditions'][] = array( $array['conditional_action'], $array['conditional_field'], $array['conditional_operator'], $array['conditional_value'] );
			}

			if ( isset( $array['conditional_field1'] ) &amp;&amp; ! empty( $array['conditional_action1'] ) &amp;&amp; ! empty( $array['conditional_operator1'] ) ) {
				$array['conditional_value1'] = isset( $array['conditional_value1'] ) ? $array['conditional_value1'] : '';
				$array['conditions'][] = array( $array['conditional_action1'], $array['conditional_field1'], $array['conditional_operator1'], $array['conditional_value1'] );
			}

			if ( isset( $array['conditional_field2'] ) &amp;&amp; ! empty( $array['conditional_action2'] ) &amp;&amp; ! empty( $array['conditional_operator2'] ) ) {
				$array['conditional_value2'] = isset( $array['conditional_value2'] ) ? $array['conditional_value2'] : '';
				$array['conditions'][] = array( $array['conditional_action2'], $array['conditional_field2'], $array['conditional_operator2'], $array['conditional_value2'] );
			}

			if ( isset( $array['conditional_field3'] ) &amp;&amp; ! empty( $array['conditional_action3'] ) &amp;&amp; ! empty( $array['conditional_operator3'] ) ) {
				$array['conditional_value3'] = isset( $array['conditional_value3'] ) ? $array['conditional_value3'] : '';
				$array['conditions'][] = array( $array['conditional_action3'], $array['conditional_field3'], $array['conditional_operator3'], $array['conditional_value3'] );
			}

			if ( isset( $array['conditional_field4'] ) &amp;&amp; ! empty( $array['conditional_action4'] ) &amp;&amp; ! empty( $array['conditional_operator4'] ) ) {
				$array['conditional_value4'] = isset( $array['conditional_value4'] ) ? $array['conditional_value4'] : '';
				$array['conditions'][] = array( $array['conditional_action4'], $array['conditional_field4'], $array['conditional_operator4'], $array['conditional_value4'] );
			}

			return $array;
		}


		/**
		 * Put status handler in modal
		 */
		function add_message_handlers() {
			?>
			&lt;div class="um-admin-error-block">&lt;/div>
			&lt;div class="um-admin-success-block">&lt;/div>
			&lt;?php
		}


		/**
		 * Footer of modal
		 *
		 * @param $form_id
		 * @param $field_args
		 * @param $in_edit
		 * @param $edit_array
		 */
		function add_conditional_support( $form_id, $field_args, $in_edit, $edit_array ) {
			$metabox = UM()->metabox();

			if ( isset( $field_args['conditional_support'] ) &amp;&amp; $field_args['conditional_support'] == 0 ) {
				return;
			} ?>

			&lt;div class="um-admin-btn-toggle">

				&lt;?php if ( $in_edit ) { $metabox->in_edit = true;  $metabox->edit_array = $edit_array; ?>
					&lt;a href="javascript:void(0);">&lt;i class="um-icon-plus">&lt;/i>&lt;?php _e( 'Manage conditional fields support' ); ?>&lt;/a> &lt;?php UM()->tooltip( __( 'Here you can setup conditional logic to show/hide this field based on specific fields value or conditions', 'ultimate-member' ) ); ?>
				&lt;?php } else { ?>
					&lt;a href="javascript:void(0);">&lt;i class="um-icon-plus">&lt;/i>&lt;?php _e( 'Add conditional fields support' ); ?>&lt;/a> &lt;?php UM()->tooltip( __( 'Here you can setup conditional logic to show/hide this field based on specific fields value or conditions', 'ultimate-member' ) ); ?>
				&lt;?php } ?>

				&lt;div class="um-admin-btn-content">
					&lt;div class="um-admin-cur-condition-template">

						&lt;?php $metabox->field_input( '_conditional_action', $form_id ); ?>
						&lt;?php $metabox->field_input( '_conditional_field', $form_id ); ?>
						&lt;?php $metabox->field_input( '_conditional_operator', $form_id ); ?>
						&lt;?php $metabox->field_input( '_conditional_value', $form_id ); ?>

						&lt;p>&lt;a href="javascript:void(0);" class="um-admin-remove-condition button um-tip-n" title="Remove condition">&lt;i class="um-icon-close" style="margin-right:0!important">&lt;/i>&lt;/a>&lt;/p>

						&lt;div class="clear">&lt;/div>
					&lt;/div>
					&lt;p class="um-admin-conditions-notice">
						&lt;small>
							&lt;?php _e( 'Use the condition operator `equals to` or `not equals` if the parent field has a single option.', 'ultimate-member' ); ?>
							&lt;br>&lt;?php _e( 'Use the condition operator `greater than` or `less than` if the parent field is a number.', 'ultimate-member' ); ?>
							&lt;br>&lt;?php _e( 'Use the condition operator `contains` if the parent field has multiple options.', 'ultimate-member' ); ?>
						&lt;/small>
					&lt;/p>
					&lt;p>&lt;a href="javascript:void(0);" class="um-admin-new-condition button button-primary um-tip-n" title="Add new condition">&lt;?php _e( 'Add new rule', 'ultimate-member' ); ?>&lt;/a>&lt;/p>
					&lt;p class="um-admin-reset-conditions">&lt;a href="javascript:void(0);" class="button">&lt;?php _e( 'Reset all rules', 'ultimate-member' ); ?>&lt;/a>&lt;/p>

					&lt;div class="clear">&lt;/div>

					&lt;?php if ( isset( $edit_array['conditions'] ) &amp;&amp; count( $edit_array['conditions'] ) != 0 ) {

						foreach ( $edit_array['conditions'] as $k => $arr ) {

							if ( $k == 0 ) $k = ''; ?>

							&lt;div class="um-admin-cur-condition">

								&lt;?php $metabox->field_input( '_conditional_action' . $k, $form_id ); ?>
								&lt;?php $metabox->field_input( '_conditional_field' . $k , $form_id ); ?>
								&lt;?php $metabox->field_input( '_conditional_operator' . $k, $form_id ); ?>
								&lt;?php $metabox->field_input( '_conditional_value' . $k, $form_id ); ?>

								&lt;p>&lt;a href="#" class="um-admin-remove-condition button um-tip-n" title="Remove condition">&lt;i class="um-icon-close" style="margin-right:0!important">&lt;/i>&lt;/a>&lt;/p>

								&lt;div class="clear">&lt;/div>
							&lt;/div>

							&lt;?php
						}

					} else { ?>

						&lt;div class="um-admin-cur-condition">

							&lt;?php $metabox->field_input( '_conditional_action', $form_id ); ?>
							&lt;?php $metabox->field_input( '_conditional_field', $form_id ); ?>
							&lt;?php $metabox->field_input( '_conditional_operator', $form_id ); ?>
							&lt;?php $metabox->field_input( '_conditional_value', $form_id ); ?>

							&lt;p>&lt;a href="#" class="um-admin-remove-condition button um-tip-n" title="Remove condition">&lt;i class="um-icon-close" style="margin-right:0!important">&lt;/i>&lt;/a>&lt;/p>

							&lt;div class="clear">&lt;/div>
						&lt;/div>

					&lt;?php } ?>
				&lt;/div>
			&lt;/div>

			&lt;?php
		}


		/**
		 * Update the builder area
		 */
		function update_builder() {
			UM()->admin()->check_ajax_nonce();

			if ( ! is_user_logged_in() || ! current_user_can( 'manage_options' ) ) {
				wp_send_json_error( __( 'Please login as administrator', 'ultimate-member' ) );
			}

			ob_start();

			$this->form_id = absint( $_POST['form_id'] );

			$this->show_builder();

			$output = ob_get_clean();

			if ( is_array( $output ) ) {
				print_r( $output );
			} else {
				echo $output;
			}
			die;
		}

		/**
		 * Sort sub-row fields by position.
		 * Callback for `uasort()` function
		 *
		 * @param array $a Array item.
		 * @param array $b Array item.
		 *
		 * @return int
		 */
		public function sorting_fields_by_position( $a, $b ) {
			if ( empty( $a['position'] ) ) {
				$a['position'] = 0;
			}

			if ( empty( $b['position'] ) ) {
				$b['position'] = 0;
			}
			$a['position'] = absint( $a['position'] );
			$b['position'] = absint( $b['position'] );

			if ( $a['position'] === $b['position'] ) {
				return 0;
			}
			return ( $a['position'] &lt; $b['position'] ) ? -1 : 1;
		}

		/**
		 * Get fields in row
		 *
		 * @param $row_id
		 *
		 * @return string
		 */
		public function get_fields_by_row( $row_id ) {
			if ( empty( $this->global_fields ) || ! is_array( $this->global_fields ) ) {
				$this->global_fields = array();
			}

			foreach ( $this->global_fields as $key => $array ) {
				if ( ! isset( $array['in_row'] ) || ( isset( $array['in_row'] ) &amp;&amp; $array['in_row'] == $row_id ) ) {
					$results[ $key ] = $array;
					unset( $this->global_fields[ $key ] );
				}
			}

			return isset( $results ) ? $results : '';
		}

		/**
		 * Get fields by sub row
		 *
		 * @param $row_fields
		 * @param $subrow_id
		 *
		 * @return string
		 */
		function get_fields_in_subrow( $row_fields, $subrow_id ) {
			if ( ! is_array( $row_fields ) ) {
				return '';
			}

			foreach ( $row_fields as $key => $array ) {
				if ( ! isset( $array['in_sub_row'] ) || ( isset( $array['in_sub_row'] ) &amp;&amp; $array['in_sub_row'] == $subrow_id ) ) {
					$results[ $key ] = $array;
					unset( $this->global_fields[ $key ] );
				}
			}

			return ( isset ( $results ) ) ? $results : '';
		}

		/**
		 * Display the builder.
		 */
		public function show_builder() {
			$fields = UM()->query()->get_attr( 'custom_fields', $this->form_id );

			if ( empty( $fields ) ) {
				?>
				&lt;div class="um-admin-drag-row">
					&lt;span class="um-admin-row-loading">&lt;span>&lt;/span>&lt;/span>
					&lt;!-- Master Row Actions -->
					&lt;div class="um-admin-drag-row-icons">
						&lt;a href="javascript:void(0);" class="um-admin-drag-rowsub-add um-tip-n" title="&lt;?php esc_attr_e( 'Add Row', 'ultimate-member' ); ?>" data-row_action="add_subrow">&lt;i class="um-icon-plus">&lt;/i>&lt;/a>
						&lt;a href="javascript:void(0);" class="um-admin-drag-row-edit um-tip-n" title="&lt;?php esc_attr_e( 'Edit Row', 'ultimate-member' ); ?>" data-modal="UM_edit_row" data-modal-size="normal" data-dynamic-content="um_admin_edit_field_popup" data-arg1="row" data-arg2="&lt;?php echo esc_attr( $this->form_id ); ?>" data-arg3="_um_row_1">&lt;i class="um-faicon-pencil">&lt;/i>&lt;/a>
						&lt;span class="um-admin-drag-row-start">&lt;i class="um-icon-arrow-move">&lt;/i>&lt;/span>
					&lt;/div>
					&lt;div class="clear">&lt;/div>
					&lt;div class="um-admin-drag-rowsubs">
						&lt;div class="um-admin-drag-rowsub">
							&lt;span class="um-admin-row-loading">&lt;span>&lt;/span>&lt;/span>
							&lt;!-- Column Layout -->
							&lt;div class="um-admin-drag-ctrls columns">
								&lt;a href="javascript:void(0);" class="active" data-cols="1">&lt;/a>
								&lt;a href="javascript:void(0);" data-cols="2">&lt;/a>
								&lt;a href="javascript:void(0);" data-cols="3">&lt;/a>
							&lt;/div>
							&lt;!-- Sub Row Actions -->
							&lt;div class="um-admin-drag-rowsub-icons">
								&lt;span class="um-admin-drag-rowsub-start">&lt;i class="um-icon-arrow-move">&lt;/i>&lt;/span>
							&lt;/div>&lt;div class="clear">&lt;/div>
							&lt;!-- Columns -->
							&lt;div class="um-admin-drag-col">&lt;/div>
							&lt;div class="um-admin-drag-col-dynamic">&lt;/div>
							&lt;div class="clear">&lt;/div>
						&lt;/div>
					&lt;/div>
				&lt;/div>
				&lt;?php
			} else {
				$rows                = array();
				$this->global_fields = is_array( $fields ) ? $fields : array();
				foreach ( $this->global_fields as $key => $field_data ) {
					if ( array_key_exists( 'type', $field_data ) &amp;&amp; 'row' === $field_data['type'] ) {
						$rows[ $key ] = $field_data;
						unset( $this->global_fields[ $key ] ); // Remove rows from global fields because not needed below.
					}
				}

				// Set 1st row if there aren't any rows in form.
				if ( empty( $rows ) ) {
					$rows = array(
						'_um_row_1' => array(
							'type'     => 'row',
							'id'       => '_um_row_1',
							'sub_rows' => 1,
							'cols'     => 1,
						),
					);
				}

				foreach ( $rows as $row_id => $array ) {
					?>
					&lt;div class="um-admin-drag-row" data-original="&lt;?php echo esc_attr( $row_id ); ?>">
						&lt;span class="um-admin-row-loading">&lt;span>&lt;/span>&lt;/span>
						&lt;!-- Master Row Actions -->
						&lt;div class="um-admin-drag-row-icons">
							&lt;a href="javascript:void(0);" class="um-admin-drag-rowsub-add um-tip-n" title="&lt;?php esc_attr_e( 'Add Row', 'ultimate-member' ); ?>" data-row_action="add_subrow">&lt;i class="um-icon-plus">&lt;/i>&lt;/a>
							&lt;a href="javascript:void(0);" class="um-admin-drag-row-edit um-tip-n" title="&lt;?php esc_attr_e( 'Edit Row', 'ultimate-member' ); ?>" data-modal="UM_edit_row" data-modal-size="normal" data-dynamic-content="um_admin_edit_field_popup" data-arg1="row" data-arg2="&lt;?php echo esc_attr( $this->form_id ); ?>" data-arg3="&lt;?php echo esc_attr( $row_id ); ?>">&lt;i class="um-faicon-pencil">&lt;/i>&lt;/a>
							&lt;span class="um-admin-drag-row-start">&lt;i class="um-icon-arrow-move">&lt;/i>&lt;/span>
							&lt;?php if ( '_um_row_1' !== $row_id ) { ?>
								&lt;a href="javascript:void(0);" class="um-tip-n" title="&lt;?php esc_attr_e( 'Delete Row', 'ultimate-member' ); ?>" data-remove_element="um-admin-drag-row">&lt;i class="um-faicon-trash-o">&lt;/i>&lt;/a>
							&lt;?php } ?>
						&lt;/div>
						&lt;div class="clear">&lt;/div>
						&lt;div class="um-admin-drag-rowsubs">
							&lt;?php
							$row_fields = $this->get_fields_by_row( $row_id );
							$sub_rows   = array_key_exists( 'sub_rows', $array ) ? $array['sub_rows'] : 1;

							for ( $c = 0; $c &lt; $sub_rows; $c++ ) {
								$subrow_fields = $this->get_fields_in_subrow( $row_fields, $c );
								?>
								&lt;div class="um-admin-drag-rowsub">
									&lt;span class="um-admin-row-loading">&lt;span>&lt;/span>&lt;/span>
									&lt;!-- Column Layout -->
									&lt;div class="um-admin-drag-ctrls columns">
										&lt;?php
										if ( ! array_key_exists( 'cols', $array ) || empty( $array['cols'] ) ) {
											$col_num = 1;
										} elseif ( is_numeric( $array['cols'] ) ) {
											$col_num = (int) $array['cols'];
										} else {
											$col_split = explode( ':', $array['cols'] );
											$col_num   = (int) $col_split[ $c ];
										}

										for ( $i = 1; $i &lt;= 3; $i++ ) {
											$col_class = ( $col_num === $i ) ? 'active' : '';
											?>
											&lt;a href="javascript:void(0);" class="&lt;?php echo esc_attr( $col_class ); ?>" data-cols="&lt;?php echo esc_attr( $i ); ?>">&lt;/a>
											&lt;?php
										}
										?>
									&lt;/div>
									&lt;!-- Sub Row Actions -->
									&lt;div class="um-admin-drag-rowsub-icons">
										&lt;span class="um-admin-drag-rowsub-start">&lt;i class="um-icon-arrow-move">&lt;/i>&lt;/span>
										&lt;?php if ( $c > 0 ) { ?>
											&lt;a href="javascript:void(0);" class="um-tip-n" title="&lt;?php esc_attr_e( 'Delete Row', 'ultimate-member' ); ?>" data-remove_element="um-admin-drag-rowsub">&lt;i class="um-faicon-trash-o">&lt;/i>&lt;/a>
										&lt;?php } ?>
									&lt;/div>
									&lt;div class="clear">&lt;/div>
									&lt;!-- Columns -->
									&lt;div class="um-admin-drag-col">
										&lt;?php
										if ( is_array( $subrow_fields ) ) {
											uasort( $subrow_fields, array( &amp;$this, 'sorting_fields_by_position' ) );
											foreach ( $subrow_fields as $key => $keyarray ) {
												if ( ! array_key_exists( 'type', $keyarray ) || ! array_key_exists( 'title', $keyarray ) ) {
													continue;
												}

												$field_type  = $keyarray['type'];
												$field_title = $keyarray['title'];
												$in_group    = array_key_exists( 'in_group', $keyarray ) ? $keyarray['in_group'] : '';
												$in_column   = array_key_exists( 'in_column', $keyarray ) ? $keyarray['in_column'] : 1;
												$icon        = array_key_exists( 'icon', $keyarray ) ? $keyarray['icon'] : '';
												$field_name  = __( 'Invalid field type', 'ultimate-member' );
												if ( array_key_exists( $field_type, UM()->builtin()->core_fields ) &amp;&amp; array_key_exists( 'name', UM()->builtin()->core_fields[ $field_type ] ) ) {
													$field_name = UM()->builtin()->core_fields[ $field_type ]['name'];
												}
												?>
												&lt;div class="um-admin-drag-fld um-admin-delete-area um-field-type-&lt;?php echo esc_attr( $field_type ); ?> &lt;?php echo esc_attr( $key ); ?>" data-group="&lt;?php echo esc_attr( $in_group ); ?>" data-key="&lt;?php echo esc_attr( $key ); ?>" data-column="&lt;?php echo esc_attr( $in_column ); ?>">
													&lt;div class="um-admin-drag-fld-title um-field-type-&lt;?php echo esc_attr( $field_type ); ?>">
														&lt;?php if ( 'group' === $field_type ) { ?>
															&lt;i class="um-icon-plus">&lt;/i>
														&lt;?php } elseif ( ! empty( $icon ) ) { ?>
															&lt;i class="&lt;?php echo esc_attr( $icon ); ?>">&lt;/i>
														&lt;?php } ?>
														&lt;?php echo ! empty( $field_title ) ? esc_html( $field_title ) : esc_html__( '(no title)', 'ultimate-member' ); ?>
													&lt;/div>
													&lt;div class="um-admin-drag-fld-type um-field-type-&lt;?php echo esc_attr( $field_type ); ?>">&lt;?php echo esc_html( $field_name ); ?>&lt;/div>
													&lt;div class="um-admin-drag-fld-icons um-field-type-&lt;?php echo esc_attr( $field_type ); ?>">
														&lt;a href="javascript:void(0);" class="um-tip-n" title="&lt;?php esc_attr_e( 'Edit', 'ultimate-member' ); ?>" data-modal="UM_edit_field" data-modal-size="normal" data-dynamic-content="um_admin_edit_field_popup" data-arg1="&lt;?php echo esc_attr( $field_type ); ?>" data-arg2="&lt;?php echo esc_attr( $this->form_id ); ?>" data-arg3="&lt;?php echo esc_attr( $key ); ?>">&lt;i class="um-faicon-pencil">&lt;/i>&lt;/a>
														&lt;a href="javascript:void(0);" class="um-tip-n um_admin_duplicate_field" title="&lt;?php esc_attr_e( 'Duplicate', 'ultimate-member' ); ?>" data-silent_action="um_admin_duplicate_field" data-arg1="&lt;?php echo esc_attr( $key ); ?>" data-arg2="&lt;?php echo esc_attr( $this->form_id ); ?>">&lt;i class="um-faicon-files-o">&lt;/i>&lt;/a>
														&lt;?php if ( 'group' === $field_type ) { ?>
															&lt;a href="javascript:void(0);" class="um-tip-n" title="&lt;?php esc_attr_e( 'Delete Group', 'ultimate-member' ); ?>" data-remove_element="um-admin-drag-fld.um-field-type-group" data-silent_action="um_admin_remove_field" data-arg1="&lt;?php echo esc_attr( $key ); ?>" data-arg2="&lt;?php echo esc_attr( $this->form_id ); ?>">&lt;i class="um-faicon-trash-o">&lt;/i>&lt;/a>
														&lt;?php } else { ?>
															&lt;a href="javascript:void(0);" class="um-tip-n" title="&lt;?php esc_attr_e( 'Delete', 'ultimate-member' ); ?>" data-silent_action="um_admin_remove_field" data-arg1="&lt;?php echo esc_attr( $key ); ?>" data-arg2="&lt;?php echo esc_attr( $this->form_id ); ?>">&lt;i class="um-faicon-trash-o">&lt;/i>&lt;/a>
														&lt;?php } ?>
													&lt;/div>
													&lt;div class="clear">&lt;/div>
													&lt;?php if ( 'group' === $field_type ) { ?>
														&lt;div class="um-admin-drag-group">&lt;/div>
													&lt;?php } ?>
												&lt;/div>
												&lt;?php
											}
										}
										?>
									&lt;/div>
									&lt;div class="um-admin-drag-col-dynamic">&lt;/div>
									&lt;div class="clear">&lt;/div>
								&lt;/div>
								&lt;?php
							}
							?>
						&lt;/div>
					&lt;/div>
					&lt;?php
				}
			}
		}

		/**
		 * AJAX handler for save the custom field in Form Builder.
		 */
		public function update_field() {
			UM()->admin()->check_ajax_nonce();

			if ( ! is_user_logged_in() || ! current_user_can( 'manage_options' ) ) {
				wp_send_json_error( __( 'Please login as administrator', 'ultimate-member' ) );
			}

			$output['error'] = null;

			// phpcs:disable WordPress.Security.NonceVerification -- Already verified by `UM()->admin()->check_ajax_nonce()`
			$array = array(
				'field_type' => sanitize_key( $_POST['_type'] ),
				'form_id'    => absint( $_POST['post_id'] ),
				'args'       => UM()->builtin()->get_core_field_attrs( sanitize_key( $_POST['_type'] ) ),
				'post'       => UM()->admin()->sanitize_builder_field_meta( $_POST ),
			);
			// phpcs:enable WordPress.Security.NonceVerification -- Already verified by `UM()->admin()->check_ajax_nonce()`

			/**
			 * Filters the field data before save in Form Builder.
			 *
			 * @param {array} $submission_data Update field handler data. Already sanitized here.
			 *
			 * @return {array} Update field handler data.
			 *
			 * @since 1.3.x
			 * @hook um_admin_pre_save_fields_hook
			 *
			 * @example &lt;caption>Change submitted value to new one by the field key.&lt;/caption>
			 * function my_custom_um_admin_pre_save_fields_hook( $submission_data ) {
			 *     $submission_data['post']['{field_key}'] = {new value};
			 *     return $submission_data;
			 * }
			 * add_filter( 'um_admin_pre_save_fields_hook', 'my_custom_um_admin_pre_save_fields_hook' );
			 */
			$array = apply_filters( 'um_admin_pre_save_fields_hook', $array );

			/**
			 * Filters the validation errors on the update field in Form Builder.
			 *
			 * @param {null|array} $errors          Errors list. It's null by default.
			 * @param {array}      $submission_data Update field handler data.
			 *
			 * @return {array} Errors list.
			 *
			 * @since 1.3.x
			 * @hook um_admin_field_update_error_handling
			 *
			 * @example &lt;caption>Added error with Error text to the field by the field key.&lt;/caption>
			 * function my_custom_um_admin_field_update_error_handling( $errors, $submission_data ) {
			 *     $errors['{field_key}'] = {Error text};
			 *     return $errors;
			 * }
			 * add_filter( 'um_admin_field_update_error_handling', 'my_custom_um_admin_field_update_error_handling', 10, 2 );
			 */
			$output['error'] = apply_filters( 'um_admin_field_update_error_handling', $output['error'], $array );
			if ( empty( $output['error'] ) ) {
				$save              = array();
				$field_id          = $array['post']['_metakey']; // Set field ID as it's metakey.
				$save[ $field_id ] = null;
				foreach ( $array['post'] as $key => $val ) {
					if ( '' !== $val &amp;&amp; '_' === substr( $key, 0, 1 ) ) { // field attribute
						$new_key = ltrim( $key, '_' );

						if ( 'options' === $new_key ) {
							$save[ $field_id ][ $new_key ] = preg_split( '/[\r\n]+/', $val, -1, PREG_SPLIT_NO_EMPTY );
						} else {
							$save[ $field_id ][ $new_key ] = $val;
						}
					} elseif ( false !== strpos( $key, 'um_editor' ) ) {
						if ( 'block' === $array['post']['_type'] ) {
							// the nl2br() function does not work as expected, there is an extra empty line left
							// use str_replace for correct work
							$val                          = str_replace( "\r\n\r\n", '&lt;br>', $val );
							$save[ $field_id ]['content'] = wp_kses_post( $val );
						} else {
							$save[ $field_id ]['content'] = sanitize_textarea_field( $val );
						}
					}
				}

				/**
				 * Filters the field options before save to form on the update field in Form Builder.
				 *
				 * @param {array} $field_args Field Options.
				 *
				 * @return {array} Field Options.
				 *
				 * @since 1.3.x
				 * @hook um_admin_pre_save_field_to_form
				 *
				 * @example &lt;caption>Force change the field's metakey when store it to DB for the form.&lt;/caption>
				 * function my_custom_um_admin_pre_save_field_to_form( $field_args ) {
				 *     $field_args['metakey'] = {new_metakey};
				 *     return $field_args;
				 * }
				 * add_filter( 'um_admin_pre_save_field_to_form', 'my_custom_um_admin_pre_save_field_to_form' );
				 */
				$field_args = apply_filters( 'um_admin_pre_save_field_to_form', $save[ $field_id ] );

				UM()->fields()->update_field( $field_id, $field_args, $array['post']['post_id'] );

				/**
				 * Filters the field options before save to DB (globally) on the update field in Form Builder.
				 *
				 * @param {array} $field_args Field Options.
				 *
				 * @return {array} Field Options.
				 *
				 * @since 1.3.x
				 * @hook um_admin_pre_save_field_to_db
				 *
				 * @example &lt;caption>Force change the field's metakey when store it to DB globally.&lt;/caption>
				 * function my_custom_um_admin_pre_save_field_to_db( $field_args ) {
				 *     $field_args['metakey'] = {new_metakey};
				 *     return $field_args;
				 * }
				 * add_filter( 'um_admin_pre_save_field_to_db', 'my_custom_um_admin_pre_save_field_to_db' );
				 */
				$field_args = apply_filters( 'um_admin_pre_save_field_to_db', $field_args );

				if ( ! isset( $array['args']['form_only'] ) ) {
					if ( ! isset( UM()->builtin()->predefined_fields[ $field_id ] ) ) {
						UM()->fields()->globally_update_field( $field_id, $field_args );
					}
				}
			}

			wp_send_json_success( $output );
		}

		/**
		 * AJAX handler for dynamic content inside the modal window.
		 */
		public function dynamic_modal_content() {
			UM()->admin()->check_ajax_nonce();

			if ( ! is_user_logged_in() || ! current_user_can( 'manage_options' ) ) {
				wp_send_json_error( __( 'Please login as administrator', 'ultimate-member' ) );
			}

			// phpcs:disable WordPress.Security.NonceVerification -- already verified here
			if ( empty( $_POST['act_id'] ) ) {
				wp_send_json_error( __( 'Wrong dynamic-content attribute.', 'ultimate-member' ) );
			}

			$metabox = UM()->metabox();
			$act_id  = sanitize_key( $_POST['act_id'] );

			$arg1 = null;
			if ( isset( $_POST['arg1'] ) ) {
				$arg1 = sanitize_text_field( $_POST['arg1'] );
			}

			$arg2 = null;
			if ( isset( $_POST['arg2'] ) ) {
				$arg2 = sanitize_text_field( $_POST['arg2'] );
			}

			$arg3 = null;
			if ( isset( $_POST['arg3'] ) ) {
				$arg3 = sanitize_text_field( $_POST['arg3'] );
			}

			$form_mode = null;
			if ( isset( $_POST['form_mode'] ) ) {
				$form_mode = sanitize_key( $_POST['form_mode'] );
			}

			$in_row = null;
			if ( isset( $_POST['in_row'] ) ) {
				$in_row = absint( $_POST['in_row'] );
			}

			$in_sub_row = null;
			if ( isset( $_POST['in_sub_row'] ) ) {
				$in_sub_row = absint( $_POST['in_sub_row'] );
			}

			$in_column = null;
			if ( isset( $_POST['in_column'] ) ) {
				$in_column = absint( $_POST['in_column'] );
			}

			$in_group = null;
			if ( isset( $_POST['in_group'] ) ) {
				$in_group = absint( $_POST['in_group'] );
			}
			// phpcs:enable WordPress.Security.NonceVerification -- already verified here

			switch ( $act_id ) {
				default:
					ob_start();
					/**
					 * Fires for integration on AJAX popup admin builder modal content.
					 *
					 * @since 1.3.x
					 * @hook um_admin_ajax_modal_content__hook
					 *
					 * @param {string} $act_id `data-dynamic-content` attribute value. Modal action.
					 *
					 * @example &lt;caption>Pass HTML to the custom UM modal with data-dynamic-content="user_info".&lt;/caption>
					 * function my_custom_um_admin_ajax_modal_content__hook( $act_id ) {
					 *     if ( 'user_info' === $act_id ) {
					 *         // Your HTML is here
					 *     }
					 * }
					 * add_action( 'um_admin_ajax_modal_content__hook', 'my_custom_um_admin_ajax_modal_content__hook' );
					 */
					do_action( 'um_admin_ajax_modal_content__hook', $act_id );
					/**
					 * Fires for integration on AJAX popup admin builder modal content.
					 *
					 * Note: $act_id `data-dynamic-content` attribute value. Modal action.
					 *
					 * @since 1.3.x
					 * @hook um_admin_ajax_modal_content__hook_{$act_id}
					 * @deprecated Partially deprecated since 2.6.4. Use common 'um_admin_ajax_modal_content__hook' and pass `$act_id` as callback attribute.
					 * @todo Fully deprecate since 2.7.0
					 *
					 * @example &lt;caption>Pass HTML to the custom UM modal with data-dynamic-content="user_info".&lt;/caption>
					 * function my_custom_um_admin_ajax_modal_content__hook_user_info() {
					 *     // Your HTML is here for `user_info` modal
					 * }
					 * add_action( 'um_admin_ajax_modal_content__hook_user_info', 'my_custom_um_admin_ajax_modal_content__hook_user_info' );
					 */
					do_action( 'um_admin_ajax_modal_content__hook_' . $act_id );
					$output = ob_get_clean();
					break;
				case 'um_admin_fonticon_selector':
					ob_start();
					?>
					&lt;div class="um-admin-metabox">
						&lt;p class="_icon_search">
							&lt;label class="screen-reader-text" for="_icon_search">&lt;?php esc_html_e( 'Search Icons...', 'ultimate-member' ); ?>&lt;/label>
							&lt;input type="text" name="_icon_search" id="_icon_search" value="" placeholder="&lt;?php esc_attr_e( 'Search Icons...', 'ultimate-member' ); ?>" />
						&lt;/p>
					&lt;/div>
					&lt;div class="um-admin-icons">
						&lt;?php foreach ( UM()->fonticons()->all as $icon ) { ?>
							&lt;span data-code="&lt;?php echo esc_attr( $icon ); ?>" title="&lt;?php echo esc_attr( $icon ); ?>" class="um-tip-n">&lt;i class="&lt;?php echo esc_attr( $icon ); ?>">&lt;/i>&lt;/span>
						&lt;?php } ?>
					&lt;/div>
					&lt;div class="clear">&lt;/div>
					&lt;?php
					$output = ob_get_clean();
					break;
				case 'um_admin_show_fields':
					// $arg2 means `form_id` variable in this case.
					ob_start();
					$form_fields = UM()->query()->get_attr( 'custom_fields', $arg2 );
					$form_fields = array_values( array_filter( array_keys( $form_fields ) ) );
					?>
					&lt;h4>&lt;?php esc_html_e( 'Setup New Field', 'ultimate-member' ); ?>&lt;/h4>
					&lt;div class="um-admin-btns">
						&lt;?php
						if ( UM()->builtin()->core_fields ) {
							foreach ( UM()->builtin()->core_fields as $field_type => $field_data ) {
								if ( isset( $field_data['in_fields'] ) &amp;&amp; false === $field_data['in_fields'] ) {
									continue;
								}
								?>
								&lt;a href="javascript:void(0);" class="button" data-modal="UM_add_field" data-modal-size="normal" data-dynamic-content="um_admin_new_field_popup" data-arg1="&lt;?php echo esc_attr( $field_type ); ?>" data-arg2="&lt;?php echo esc_attr( $arg2 ); ?>">&lt;?php echo esc_html( $field_data['name'] ); ?>&lt;/a>
								&lt;?php
							}
						}
						?>
					&lt;/div>
					&lt;h4>&lt;?php esc_html_e( 'Predefined Fields', 'ultimate-member' ); ?>&lt;/h4>
					&lt;div class="um-admin-btns">
						&lt;?php
						if ( UM()->builtin()->predefined_fields ) {
							foreach ( UM()->builtin()->predefined_fields as $field_key => $field_data ) {
								if ( array_key_exists( 'account_only', $field_data ) &amp;&amp; true === $field_data['account_only'] ) {
									continue;
								}
								if ( array_key_exists( 'private_use', $field_data ) &amp;&amp; true === $field_data['private_use'] ) {
									continue;
								}
								?>
								&lt;a href="javascript:void(0);" class="button" &lt;?php disabled( in_array( $field_key, $form_fields, true ) ); ?> data-silent_action="um_admin_add_field_from_predefined" data-arg1="&lt;?php echo esc_attr( $field_key ); ?>" data-arg2="&lt;?php echo esc_attr( $arg2 ); ?>" title="&lt;?php echo esc_attr( $field_data['title'] ); ?>">&lt;?php echo esc_html( um_trim_string( $field_data['title'] ) ); ?>&lt;/a>
								&lt;?php
							}
						} else {
							?>
							&lt;p>&lt;?php esc_html_e( 'None', 'ultimate-member' ); ?>&lt;/p>
							&lt;?php
						}
						?>
					&lt;/div>
					&lt;h4>&lt;?php esc_html_e( 'Custom Fields', 'ultimate-member' ); ?>&lt;/h4>
					&lt;div class="um-admin-btns">
						&lt;?php
						if ( UM()->builtin()->custom_fields ) {
							foreach ( UM()->builtin()->custom_fields as $field_key => $array ) {
								if ( empty( $array['title'] ) || empty( $array['type'] ) ) {
									continue;
								}
								?>
								&lt;?php // translators: %s is a field metakey. ?>
								&lt;a href="javascript:void(0);" class="button with-icon" &lt;?php disabled( in_array( $field_key, $form_fields, true ) ) ?> data-silent_action="um_admin_add_field_from_list" data-arg1="&lt;?php echo esc_attr( $field_key ); ?>" data-arg2="&lt;?php echo esc_attr( $arg2 ); ?>" title="&lt;?php echo esc_attr( sprintf( __( 'Meta Key - %s', 'ultimate-member' ), $field_key ) ); ?>">
									&lt;?php echo esc_html( um_trim_string( stripslashes( $array['title'] ) ) ); ?> (&lt;?php echo esc_html( ucfirst( $array['type'] ) ); ?>)
									&lt;span class="remove dashicons dashicons-dismiss">&lt;/span>
								&lt;/a>

								&lt;?php
							}
						}
						?>

						&lt;p class="um-no-custom-fields"&lt;?php if ( UM()->builtin()->custom_fields ) { ?> style="display: none;"&lt;?php } ?>>
							&lt;?php esc_html_e( 'You did not create any custom fields.', 'ultimate-member' ); ?>
						&lt;/p>
					&lt;/div>
					&lt;?php
					$output = ob_get_clean();
					break;
				case 'um_admin_edit_field_popup':
					// $arg1 means `field_type` variable in this case.
					// $arg2 means `form_id` variable in this case.
					// $arg3 means `field_metakey` variable in this case.
					$field_type_data = UM()->builtin()->get_core_field_attrs( $arg1 );
					$form_fields     = UM()->query()->get_attr( 'custom_fields', $arg2 );

					if ( ! array_key_exists( $arg3, $form_fields ) ) {
						$output = '&lt;p>' . esc_html__( 'This field is not setup correctly for this form.', 'ultimate-member' ) . '&lt;/p>';
						break;
					}

					$metabox->set_field_type = $arg1;
					$metabox->in_edit        = true;
					$metabox->edit_array     = $form_fields[ $arg3 ];

					if ( ! array_key_exists( 'metakey', $metabox->edit_array ) ) {
						$metabox->edit_array['metakey'] = $metabox->edit_array['id'];
					}

					if ( ! array_key_exists( 'position', $metabox->edit_array ) ) {
						$metabox->edit_array['position'] = $metabox->edit_array['id'];
					}

					ob_start();

					if ( ! array_key_exists( 'col1', $field_type_data ) ) {
						?>
						&lt;p>&lt;?php esc_html_e( 'This field type is not setup correctly.', 'ultimate-member' ); ?>&lt;/p>
						&lt;?php
					} else {
						if ( 'row' !== $arg1 ) {
							?>
							&lt;input type="hidden" name="_in_row" id="_in_row" value="&lt;?php echo esc_attr( $metabox->edit_array['in_row'] ); ?>" />
							&lt;input type="hidden" name="_in_sub_row" id="_in_sub_row" value="&lt;?php echo esc_attr( $metabox->edit_array['in_sub_row'] ); ?>" />
							&lt;input type="hidden" name="_in_column" id="_in_column" value="&lt;?php echo esc_attr( $metabox->edit_array['in_column'] ); ?>" />
							&lt;input type="hidden" name="_in_group" id="_in_group" value="&lt;?php echo esc_attr( $metabox->edit_array['in_group'] ); ?>" />
						&lt;?php } ?>
						&lt;input type="hidden" name="_type" id="_type" value="&lt;?php echo esc_attr( $arg1 ); ?>" />
						&lt;input type="hidden" name="post_id" id="post_id" value="&lt;?php echo esc_attr( $arg2 ); ?>" />
						&lt;input type="hidden" name="edit_mode" id="edit_mode" value="true" />
						&lt;input type="hidden" name="_metakey" id="_metakey" value="&lt;?php echo esc_attr( $metabox->edit_array['metakey'] ); ?>" />
						&lt;input type="hidden" name="_position" id="_position" value="&lt;?php echo esc_attr( $metabox->edit_array['position'] ); ?>" />

						&lt;?php if ( array_key_exists( 'mce_content', $field_type_data ) &amp;&amp; true === $field_type_data['mce_content'] ) { ?>
							&lt;div class="dynamic-mce-content">&lt;?php echo ! empty( $metabox->edit_array['content'] ) ? wp_kses( $metabox->edit_array['content'], UM()->get_allowed_html( 'templates' ) ) : ''; ?>&lt;/div>
						&lt;?php } ?>

						&lt;?php $this->modal_header(); ?>

						&lt;div class="um-admin-half">
							&lt;?php
							if ( is_array( $field_type_data['col1'] ) ) {
								foreach ( $field_type_data['col1'] as $opt ) {
									$metabox->field_input( $opt, $arg2, $metabox->edit_array );
								}
							}
							?>
						&lt;/div>
						&lt;div class="um-admin-half um-admin-right">
							&lt;?php
							if ( array_key_exists( 'col2', $field_type_data ) &amp;&amp; is_array( $field_type_data['col2'] ) ) {
								foreach ( $field_type_data['col2'] as $opt ) {
									$metabox->field_input( $opt, $arg2, $metabox->edit_array );
								}
							}
							?>
						&lt;/div>
						&lt;div class="clear">&lt;/div>
						&lt;?php
						if ( array_key_exists( 'col3', $field_type_data ) &amp;&amp; is_array( $field_type_data['col3'] ) ) {
							foreach ( $field_type_data['col3'] as $opt ) {
								$metabox->field_input( $opt, $arg2, $metabox->edit_array );
							}
						}
						?>
						&lt;div class="clear">&lt;/div>
						&lt;?php
						if ( array_key_exists( 'col_full', $field_type_data ) &amp;&amp; is_array( $field_type_data['col_full'] ) ) {
							foreach ( $field_type_data['col_full'] as $opt ) {
								$metabox->field_input( $opt, $arg2, $metabox->edit_array );
							}
						}
						$this->modal_footer( $arg2, $field_type_data, $metabox );
					}
					$output = ob_get_clean();
					break;
				case 'um_admin_new_field_popup':
					// $arg1 means `field_type` variable in this case.
					// $arg2 means `form_id` variable in this case.
					$field_type_data         = UM()->builtin()->get_core_field_attrs( $arg1 );
					$metabox->set_field_type = $arg1;

					ob_start();

					if ( ! array_key_exists( 'col1', $field_type_data ) ) {
						?>
						&lt;p>&lt;?php esc_html_e( 'This field type is not setup correctly.', 'ultimate-member' ); ?>&lt;/p>
						&lt;?php
					} else {
						?>
						&lt;input type="hidden" name="_in_row" id="_in_row" value="_um_row_&lt;?php echo esc_attr( $in_row + 1 ); ?>" />
						&lt;input type="hidden" name="_in_sub_row" id="_in_sub_row" value="&lt;?php echo esc_attr( $in_sub_row ); ?>" />
						&lt;input type="hidden" name="_in_column" id="_in_column" value="&lt;?php echo esc_attr( $in_column ); ?>" />
						&lt;input type="hidden" name="_in_group" id="_in_group" value="&lt;?php echo esc_attr( $in_group ); ?>" />
						&lt;input type="hidden" name="_type" id="_type" value="&lt;?php echo esc_attr( $arg1 ); ?>" />
						&lt;input type="hidden" name="post_id" id="post_id" value="&lt;?php echo esc_attr( $arg2 ); ?>" />

						&lt;?php $this->modal_header(); ?>

						&lt;div class="um-admin-half">
							&lt;?php
							if ( is_array( $field_type_data['col1'] ) ) {
								foreach ( $field_type_data['col1'] as $opt ) {
									$metabox->field_input( $opt, $arg2 );
								}
							}
							?>
						&lt;/div>
						&lt;div class="um-admin-half um-admin-right">
							&lt;?php
							if ( array_key_exists( 'col2', $field_type_data ) &amp;&amp; is_array( $field_type_data['col2'] ) ) {
								foreach ( $field_type_data['col2'] as $opt ) {
									$metabox->field_input( $opt, $arg2 );
								}
							}
							?>
						&lt;/div>
						&lt;div class="clear">&lt;/div>
						&lt;?php
						if ( array_key_exists( 'col3', $field_type_data ) &amp;&amp; is_array( $field_type_data['col3'] ) ) {
							foreach ( $field_type_data['col3'] as $opt ) {
								$metabox->field_input( $opt, $arg2 );
							}
						}
						?>
						&lt;div class="clear">&lt;/div>
						&lt;?php
						if ( array_key_exists( 'col_full', $field_type_data ) &amp;&amp; is_array( $field_type_data['col_full'] ) ) {
							foreach ( $field_type_data['col_full'] as $opt ) {
								$metabox->field_input( $opt, $arg2 );
							}
						}

						$this->modal_footer( $arg2, $field_type_data, $metabox );
					}
					$output = ob_get_clean();
					break;
				case 'um_admin_preview_form':
					// $arg1 means `form_id` variable in this case.
					UM()->user()->preview = true;

					$mode = UM()->query()->get_attr( 'mode', $arg1 );
					if ( empty( $mode ) ) {
						$mode = $form_mode;
					}
					if ( 'profile' === $mode ) {
						UM()->fields()->editing = true;
					}

					$output  = '&lt;div class="um-admin-preview-overlay">&lt;/div>';
					$output .= apply_shortcodes( '[ultimatemember form_id="' . $arg1 . '" /]' );
					break;
				case 'um_admin_review_registration':
					// $arg1 means `user_id` variable in this case.
					if ( ! current_user_can( 'administrator' ) &amp;&amp; ! um_can_view_profile( $arg1 ) ) {
						$output = '';
						break;
					}
					um_fetch_user( $arg1 );
					UM()->user()->preview = true;
					$output               = um_user_submitted_registration_formatted( true );
					um_reset_user();
					break;
			}

			// @todo WPCS through wp_kses.
			echo $output;
			die;
		}

		/**
		 *
		 */
		function modal_header() {
			/**
			 * UM hook
			 *
			 * @type action
			 * @title um_admin_field_modal_header
			 * @description Modal Window Header
			 * @change_log
			 * ["Since: 2.0"]
			 * @usage add_action( 'um_admin_field_modal_header', 'function_name', 10 );
			 * @example
			 * &lt;?php
			 * add_action( 'um_admin_field_modal_header', 'my_admin_field_modal_header', 10 );
			 * function my_admin_field_modal_header() {
			 *     // your code here
			 * }
			 * ?>
			 */
			do_action( 'um_admin_field_modal_header' );
		}


		/**
		 * Modal Footer loading
		 *
		 * @param $arg2
		 * @param $args
		 * @param $metabox
		 */
		function modal_footer( $arg2, $args, $metabox ) {
			/**
			 * UM hook
			 *
			 * @type action
			 * @title um_admin_field_modal_footer
			 * @description Modal Window Footer
			 * @input_vars
			 * [{"var":"$arg2","type":"string","desc":"Ajax Action"},
			 * {"var":"$args","type":"array","desc":"Modal window arguments"},
			 * {"var":"$in_edit","type":"bool","desc":"Is edit mode?"},
			 * {"var":"$edit_array","type":"array","desc":"Edit Array"}]
			 * @change_log
			 * ["Since: 2.0"]
			 * @usage add_action( 'um_admin_field_modal_footer', 'function_name', 10, 4 );
			 * @example
			 * &lt;?php
			 * add_action( 'um_admin_field_modal_footer', 'my_admin_field_modal_footer', 10, 4 );
			 * function my_admin_field_modal_footer( $arg2, $args, $in_edit, $edit_array ) {
			 *     // your code here
			 * }
			 * ?>
			 */
			do_action( 'um_admin_field_modal_footer', $arg2, $args, $metabox->in_edit, ( isset( $metabox->edit_array ) ) ? $metabox->edit_array : '' );
		}


		/**
		 * Skip field validation for:
		 *  - '_options' if Choices Callback specified
		 *
		 * @param boolean $skip
		 * @param string $post_input
		 * @param array $array
		 * @return boolean
		 */
		public function skip_field_validation( $skip, $post_input, $array ) {
			if ( $post_input === '_options' &amp;&amp; isset( $array['post']['_custom_dropdown_options_source'] ) ) {
				$skip = function_exists( wp_unslash( $array['post']['_custom_dropdown_options_source'] ) );
			}

			return $skip;
		}


		/**
		 *  Retrieves dropdown/multi-select options from a callback function
		 */
		function populate_dropdown_options() {
			UM()->admin()->check_ajax_nonce();

			if ( ! is_user_logged_in() || ! current_user_can( 'manage_options' ) ) {
				wp_send_json_error( __( 'This is not possible for security reasons.', 'ultimate-member' ) );
			}

			$arr_options = array();

			// we can not use `sanitize_key()` because it removes backslash needed for namespace and uppercase symbols
			$um_callback_func = sanitize_text_field( $_POST['um_option_callback'] );
			// removed added by sanitize slashes for the namespaces
			$um_callback_func = wp_unslash( $um_callback_func );

			if ( empty( $um_callback_func ) ) {
				$arr_options['status'] = 'empty';
				$arr_options['function_name'] = $um_callback_func;
				$arr_options['function_exists'] = function_exists( $um_callback_func );
			}

			if ( UM()->fields()->is_source_blacklisted( $um_callback_func ) ) {
				wp_send_json_error( __( 'This is not possible for security reasons. Don\'t use internal PHP functions.', 'ultimate-member' ) );
			}

			$arr_options['data'] = array();
			if ( function_exists( $um_callback_func ) ) {
				$arr_options['data'] = call_user_func( $um_callback_func );
			}

			wp_send_json( $arr_options );
		}

	}
}
</code></pre>
        </article>
    </section>





    <footer>
		<a href="https://wordpress.org/plugins/ultimate-member/">Ultimate Member Plugin</a> &bull;
		<a href="https://docs.ultimatemember.com/">Official Docs</a>
	</footer>


</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Actions</h3><ul><li><a href="track_%257B$status%257D_user_registration.html">track_{$status}_user_registration</a></li><li><a href="um_access_profile.html">um_access_profile</a></li><li><a href="um_account_page_hidden_fields.html">um_account_page_hidden_fields</a></li><li><a href="um_action_user_request_hook.html">um_action_user_request_hook</a></li><li><a href="um_admin_ajax_modal_content__hook.html">um_admin_ajax_modal_content__hook</a></li><li><a href="um_admin_ajax_modal_content__hook_%257B$act_id%257D.html">um_admin_ajax_modal_content__hook_{$act_id}</a></li><li><a href="um_admin_custom_hook_%257B$action%257D.html">um_admin_custom_hook_{$action}</a></li><li><a href="um_admin_user_action_hook.html">um_admin_user_action_hook</a></li><li><a href="um_admin_user_action_%257B$bulk_action%257D_hook.html">um_admin_user_action_{$bulk_action}_hook</a></li><li><a href="um_after_delete_role.html">um_after_delete_role</a></li><li><a href="um_after_delete_role_meta.html">um_after_delete_role_meta</a></li><li><a href="um_after_email_notification_sending.html">um_after_email_notification_sending</a></li><li><a href="um_after_email_template_part.html">um_after_email_template_part</a></li><li><a href="um_after_everything_output.html">um_after_everything_output</a></li><li><a href="um_after_form.html">um_after_form</a></li><li><a href="um_after_form_fields.html">um_after_form_fields</a></li><li><a href="um_after_save_registration_details.html">um_after_save_registration_details</a></li><li><a href="um_after_user_is_approved.html">um_after_user_is_approved</a></li><li><a href="um_after_user_is_inactive.html">um_after_user_is_inactive</a></li><li><a href="um_after_user_is_reactivated.html">um_after_user_is_reactivated</a></li><li><a href="um_after_user_is_rejected.html">um_after_user_is_rejected</a></li><li><a href="um_after_user_is_set_as_awaiting_email_confirmation.html">um_after_user_is_set_as_awaiting_email_confirmation</a></li><li><a href="um_after_user_is_set_as_pending.html">um_after_user_is_set_as_pending</a></li><li><a href="um_after_user_status_is_changed.html">um_after_user_status_is_changed</a></li><li><a href="um_after_user_status_is_changed_hook.html">um_after_user_status_is_changed_hook</a></li><li><a href="um_after_%257B$mode%257D_fields.html">um_after_{$mode}_fields</a></li><li><a href="um_ajax_load_posts__%257B$hook%257D.html">um_ajax_load_posts__{$hook}</a></li><li><a href="um_before_email_notification_sending.html">um_before_email_notification_sending</a></li><li><a href="um_before_email_template_body.html">um_before_email_template_body</a></li><li><a href="um_before_email_template_part.html">um_before_email_template_part</a></li><li><a href="um_before_form.html">um_before_form</a></li><li><a href="um_before_form_is_loaded.html">um_before_form_is_loaded</a></li><li><a href="um_before_save_registration_details.html">um_before_save_registration_details</a></li><li><a href="um_before_submit_form_post.html">um_before_submit_form_post</a></li><li><a href="um_before_user_hash_is_changed.html">um_before_user_hash_is_changed</a></li><li><a href="um_before_user_is_approved.html">um_before_user_is_approved</a></li><li><a href="um_before_user_is_deactivated.html">um_before_user_is_deactivated</a></li><li><a href="um_before_user_is_reactivated.html">um_before_user_is_reactivated</a></li><li><a href="um_before_user_is_rejected.html">um_before_user_is_rejected</a></li><li><a href="um_before_user_is_set_as_awaiting_email_confirmation.html">um_before_user_is_set_as_awaiting_email_confirmation</a></li><li><a href="um_before_user_is_set_as_pending.html">um_before_user_is_set_as_pending</a></li><li><a href="um_before_user_status_is_set.html">um_before_user_status_is_set</a></li><li><a href="um_before_%257B$mode%257D_fields.html">um_before_{$mode}_fields</a></li><li><a href="um_before_%257B$mode%257D_form_is_loaded.html">um_before_{$mode}_form_is_loaded</a></li><li><a href="um_change_password_form.html">um_change_password_form</a></li><li><a href="um_change_password_page_hidden_fields.html">um_change_password_page_hidden_fields</a></li><li><a href="um_enqueue_frontend_preview_assets.html">um_enqueue_frontend_preview_assets</a></li><li><a href="um_load_gutenberg_js.html">um_load_gutenberg_js</a></li><li><a href="um_main_%257B$mode%257D_fields.html">um_main_{$mode}_fields</a></li><li><a href="um_on_login_before_redirect.html">um_on_login_before_redirect</a></li><li><a href="um_post_registration_%257B$status%257D_hook.html">um_post_registration_{$status}_hook</a></li><li><a href="um_pre_%257B$mode%257D_shortcode.html">um_pre_{$mode}_shortcode</a></li><li><a href="um_registration_after_auto_login.html">um_registration_after_auto_login</a></li><li><a href="um_registration_complete.html">um_registration_complete</a></li><li><a href="um_registration_set_extra_data.html">um_registration_set_extra_data</a></li><li><a href="um_reset_password_errors_hook.html">um_reset_password_errors_hook</a></li><li><a href="um_reset_password_process_hook.html">um_reset_password_process_hook</a></li><li><a href="um_role_edit_data.html">um_role_edit_data</a></li><li><a href="um_role_row_actions.html">um_role_row_actions</a></li><li><a href="um_run_ajax_function__%257B$hook%257D.html">um_run_ajax_function__{$hook}</a></li><li><a href="um_submit_form_errors_hook.html">um_submit_form_errors_hook</a></li><li><a href="um_submit_form_errors_hook_.html">um_submit_form_errors_hook_</a></li><li><a href="um_submit_form_errors_hook__blockedemails.html">um_submit_form_errors_hook__blockedemails</a></li><li><a href="um_submit_form_errors_hook__blockedips.html">um_submit_form_errors_hook__blockedips</a></li><li><a href="um_submit_form_errors_hook__blockedwords.html">um_submit_form_errors_hook__blockedwords</a></li><li><a href="um_submit_form_errors_hook__profile.html">um_submit_form_errors_hook__profile</a></li><li><a href="um_submit_form_errors_hook__registration.html">um_submit_form_errors_hook__registration</a></li><li><a href="um_submit_form_errors_hook_login.html">um_submit_form_errors_hook_login</a></li><li><a href="um_submit_form_errors_hook_logincheck.html">um_submit_form_errors_hook_logincheck</a></li><li><a href="um_submit_form_%257B$mode%257D.html">um_submit_form_{$mode}</a></li><li><a href="um_user_after_query.html">um_user_after_query</a></li><li><a href="um_user_before_query.html">um_user_before_query</a></li><li><a href="um_user_before_updating_profile.html">um_user_before_updating_profile</a></li><li><a href="um_user_edit_profile.html">um_user_edit_profile</a></li><li><a href="um_user_login.html">um_user_login</a></li><li><a href="um_user_login_extra_hook.html">um_user_login_extra_hook</a></li><li><a href="um_user_register.html">um_user_register</a></li><li><a href="um_when_status_is_set.html">um_when_status_is_set</a></li></ul><h3>Filters</h3><ul><li><a href="um_access_restricted_post_instance.html">um_access_restricted_post_instance</a></li><li><a href="um_account_scripts_dependencies.html">um_account_scripts_dependencies</a></li><li><a href="um_account_shortcode_args_filter.html">um_account_shortcode_args_filter</a></li><li><a href="um_add_user_frontend_submitted.html">um_add_user_frontend_submitted</a></li><li><a href="um_adm_action_custom_update_notice.html">um_adm_action_custom_update_notice</a></li><li><a href="um_admin_builder_skip_field_validation.html">um_admin_builder_skip_field_validation</a></li><li><a href="um_admin_bulk_user_actions_hook.html">um_admin_bulk_user_actions_hook</a></li><li><a href="um_admin_enqueue_localize_data.html">um_admin_enqueue_localize_data</a></li><li><a href="um_admin_field_update_error_handling.html">um_admin_field_update_error_handling</a></li><li><a href="um_admin_forms_data_localize.html">um_admin_forms_data_localize</a></li><li><a href="um_admin_pre_save_field_to_db.html">um_admin_pre_save_field_to_db</a></li><li><a href="um_admin_pre_save_field_to_form.html">um_admin_pre_save_field_to_form</a></li><li><a href="um_admin_pre_save_fields_hook.html">um_admin_pre_save_fields_hook</a></li><li><a href="um_admin_user_actions_hook.html">um_admin_user_actions_hook</a></li><li><a href="um_admin_user_row_actions.html">um_admin_user_row_actions</a></li><li><a href="um_admin_views_users.html">um_admin_views_users</a></li><li><a href="um_allowed_redirect_hosts.html">um_allowed_redirect_hosts</a></li><li><a href="um_allowed_user_tags_patterns.html">um_allowed_user_tags_patterns</a></li><li><a href="um_api_output_format.html">um_api_output_format</a></li><li><a href="um_avatar_image_alternate_text.html">um_avatar_image_alternate_text</a></li><li><a href="um_before_save_filter_submitted.html">um_before_save_filter_submitted</a></li><li><a href="um_before_update_profile.html">um_before_update_profile</a></li><li><a href="um_blacklist_fields_hook.html">um_blacklist_fields_hook</a></li><li><a href="um_browser_url_redirect_to__filter.html">um_browser_url_redirect_to__filter</a></li><li><a href="um_can_view_profile.html">um_can_view_profile</a></li><li><a href="um_change_default_forms_ids.html">um_change_default_forms_ids</a></li><li><a href="um_change_default_tab.html">um_change_default_tab</a></li><li><a href="um_change_email_template_file.html">um_change_email_template_file</a></li><li><a href="um_change_field_label.html">um_change_field_label</a></li><li><a href="um_change_role_data.html">um_change_role_data</a></li><li><a href="um_checkbox_field_options.html">um_checkbox_field_options</a></li><li><a href="um_checkbox_field_options_%257B$key%257D.html">um_checkbox_field_options_{$key}</a></li><li><a href="um_common_js_variables.html">um_common_js_variables</a></li><li><a href="um_completeness_field_id.html">um_completeness_field_id</a></li><li><a href="um_core_enqueue_priority.html">um_core_enqueue_priority</a></li><li><a href="um_core_form_meta_all.html">um_core_form_meta_all</a></li><li><a href="um_core_page_id_filter.html">um_core_page_id_filter</a></li><li><a href="um_core_pages.html">um_core_pages</a></li><li><a href="um_cpt_list.html">um_cpt_list</a></li><li><a href="um_cron_disable.html">um_cron_disable</a></li><li><a href="um_custom_dropdown_options_parent__%257B$form_key%257D.html">um_custom_dropdown_options_parent__{$form_key}</a></li><li><a href="um_custom_dropdown_options_source__%257B$form_key%257D.html">um_custom_dropdown_options_source__{$form_key}</a></li><li><a href="um_custom_error_message_handler.html">um_custom_error_message_handler</a></li><li><a href="um_custom_meta_permalink_base_generate_user_slug.html">um_custom_meta_permalink_base_generate_user_slug</a></li><li><a href="um_custom_success_message_handler.html">um_custom_success_message_handler</a></li><li><a href="um_dequeue_select2_scripts.html">um_dequeue_select2_scripts</a></li><li><a href="um_disable_blocks_script.html">um_disable_blocks_script</a></li><li><a href="um_disable_dynamic_global_css.html">um_disable_dynamic_global_css</a></li><li><a href="um_disable_email_notification_sending.html">um_disable_email_notification_sending</a></li><li><a href="um_edit_field_%257B$mode%257D_%257B$type%257D.html">um_edit_field_{$mode}_{$type}</a></li><li><a href="um_edit_label_all_fields.html">um_edit_label_all_fields</a></li><li><a href="um_edit_label_%257B$key%257D.html">um_edit_label_{$key}</a></li><li><a href="um_edit_profile_url.html">um_edit_profile_url</a></li><li><a href="um_email_get_template_file_path.html">um_email_get_template_file_path</a></li><li><a href="um_email_notifications.html">um_email_notifications</a></li><li><a href="um_email_send_message_content.html">um_email_send_message_content</a></li><li><a href="um_email_send_subject.html">um_email_send_subject</a></li><li><a href="um_email_template_body_attrs.html">um_email_template_body_attrs</a></li><li><a href="um_email_template_html_formatting.html">um_email_template_html_formatting</a></li><li><a href="um_email_template_path.html">um_email_template_path</a></li><li><a href="um_email_templates_path_by_slug.html">um_email_templates_path_by_slug</a></li><li><a href="um_enqueue_localize_data.html">um_enqueue_localize_data</a></li><li><a href="um_excluded_comment_types.html">um_excluded_comment_types</a></li><li><a href="um_extend_account_settings.html">um_extend_account_settings</a></li><li><a href="um_external_profile_url.html">um_external_profile_url</a></li><li><a href="um_field_checkbox_item_title.html">um_field_checkbox_item_title</a></li><li><a href="um_fields_without_metakey.html">um_fields_without_metakey</a></li><li><a href="um_file_upload_nonce.html">um_file_upload_nonce</a></li><li><a href="um_filesystem_max_file_age.html">um_filesystem_max_file_age</a></li><li><a href="um_form_fields_textarea_settings.html">um_form_fields_textarea_settings</a></li><li><a href="um_frontend_common_js_variables.html">um_frontend_common_js_variables</a></li><li><a href="um_get_current_page_url.html">um_get_current_page_url</a></li><li><a href="um_get_field__%257B$key%257D.html">um_get_field__{$key}</a></li><li><a href="um_get_field_%257B$type%257D.html">um_get_field_{$type}</a></li><li><a href="um_get_form_fields.html">um_get_form_fields</a></li><li><a href="um_get_option_filter__%257B$option_id%257D.html">um_get_option_filter__{$option_id}</a></li><li><a href="um_get_pickadate_locale.html">um_get_pickadate_locale</a></li><li><a href="um_handle_bulk_actions-users-%257B$current_action%257D.html">um_handle_bulk_actions-users-{$current_action}</a></li><li><a href="um_hook_for_field_%257B$type%257D.html">um_hook_for_field_{$type}</a></li><li><a href="um_ignore_restricted_content.html">um_ignore_restricted_content</a></li><li><a href="um_ignore_restricted_excerpt.html">um_ignore_restricted_excerpt</a></li><li><a href="um_ignore_restricted_title.html">um_ignore_restricted_title</a></li><li><a href="um_image_upload_nonce.html">um_image_upload_nonce</a></li><li><a href="um_image_upload_validation.html">um_image_upload_validation</a></li><li><a href="um_is_field_disabled.html">um_is_field_disabled</a></li><li><a href="um_is_ultimatememeber_admin_screen.html">um_is_ultimatememeber_admin_screen</a></li><li><a href="um_language_file.html">um_language_file</a></li><li><a href="um_language_locale.html">um_language_locale</a></li><li><a href="um_late_escaping_allowed_tags.html">um_late_escaping_allowed_tags</a></li><li><a href="um_licenses_site_health.html">um_licenses_site_health</a></li><li><a href="um_localize_permalink_filter.html">um_localize_permalink_filter</a></li><li><a href="um_locate_email_template.html">um_locate_email_template</a></li><li><a href="um_locate_user_profile_not_loggedin__redirect.html">um_locate_user_profile_not_loggedin__redirect</a></li><li><a href="um_loggedin_inner_content.html">um_loggedin_inner_content</a></li><li><a href="um_login_allow_nonce_verification.html">um_login_allow_nonce_verification</a></li><li><a href="um_login_invalid_nonce_redirect_url.html">um_login_invalid_nonce_redirect_url</a></li><li><a href="um_login_redirect_url.html">um_login_redirect_url</a></li><li><a href="um_logout_redirect_url.html">um_logout_redirect_url</a></li><li><a href="um_member_directory_core_search_fields.html">um_member_directory_core_search_fields</a></li><li><a href="um_member_directory_custom_sorting_type.html">um_member_directory_custom_sorting_type</a></li><li><a href="um_members_directory_select_filter_relation.html">um_members_directory_select_filter_relation</a></li><li><a href="um_multiselect_options.html">um_multiselect_options</a></li><li><a href="um_multiselect_options_%257B$key%257D.html">um_multiselect_options_{$key}</a></li><li><a href="um_multiselect_options_%257B$type%257D.html">um_multiselect_options_{$type}</a></li><li><a href="um_nav_menu_roles_item_visibility.html">um_nav_menu_roles_item_visibility</a></li><li><a href="um_override_templates_get_template_path__%257B$key%257D.html">um_override_templates_get_template_path__{$key}</a></li><li><a href="um_override_templates_scan_files.html">um_override_templates_scan_files</a></li><li><a href="um_permalink_base_after_filter%257B$filter_slug%257D.html">um_permalink_base_after_filter{$filter_slug}</a></li><li><a href="um_permalink_base_before_filter.html">um_permalink_base_before_filter</a></li><li><a href="um_pre_args_setup.html">um_pre_args_setup</a></li><li><a href="um_predefined_fields_hook.html">um_predefined_fields_hook</a></li><li><a href="um_predefined_page_option_key.html">um_predefined_page_option_key</a></li><li><a href="um_predefined_pages.html">um_predefined_pages</a></li><li><a href="um_prepare_user_results_array.html">um_prepare_user_results_array</a></li><li><a href="um_prepare_user_results_array_meta.html">um_prepare_user_results_array_meta</a></li><li><a href="um_profile_can_view_main.html">um_profile_can_view_main</a></li><li><a href="um_profile_dynamic_meta_image_size.html">um_profile_dynamic_meta_image_size</a></li><li><a href="um_profile_dynamic_meta_image_type.html">um_profile_dynamic_meta_image_type</a></li><li><a href="um_profile_dynamic_meta_profile_schema.html">um_profile_dynamic_meta_profile_schema</a></li><li><a href="um_profile_menu_link_%257B$id%257D_attrs.html">um_profile_menu_link_{$id}_attrs</a></li><li><a href="um_profile_nopriv_tag_hook__%257B$usermeta%257D.html">um_profile_nopriv_tag_hook__{$usermeta}</a></li><li><a href="um_profile_permalink.html">um_profile_permalink</a></li><li><a href="um_profile_tabs.html">um_profile_tabs</a></li><li><a href="um_profile_tabs_privacy_list.html">um_profile_tabs_privacy_list</a></li><li><a href="um_profile_tabs_site_health.html">um_profile_tabs_site_health</a></li><li><a href="um_profile_tag_hook__%257B$usermeta%257D.html">um_profile_tag_hook__{$usermeta}</a></li><li><a href="um_query_args_filter_global_meta.html">um_query_args_filter_global_meta</a></li><li><a href="um_query_args_%257B$field%257D__filter_meta.html">um_query_args_{$field}__filter_meta</a></li><li><a href="um_radio_field_options.html">um_radio_field_options</a></li><li><a href="um_radio_field_options_%257B$key%257D.html">um_radio_field_options_{$key}</a></li><li><a href="um_radio_options_pair__%257B$key%257D.html">um_radio_options_pair__{$key}</a></li><li><a href="um_register_allow_nonce_verification.html">um_register_allow_nonce_verification</a></li><li><a href="um_register_invalid_nonce_redirect_url.html">um_register_invalid_nonce_redirect_url</a></li><li><a href="um_registration_for_loggedin_users.html">um_registration_for_loggedin_users</a></li><li><a href="um_registration_pending_user_redirect.html">um_registration_pending_user_redirect</a></li><li><a href="um_registration_show_message_redirect_url.html">um_registration_show_message_redirect_url</a></li><li><a href="um_registration_user_role.html">um_registration_user_role</a></li><li><a href="um_reset_password_shortcode_args_filter.html">um_reset_password_shortcode_args_filter</a></li><li><a href="um_rest_get_auser.html">um_rest_get_auser</a></li><li><a href="um_rest_userdata.html">um_rest_userdata</a></li><li><a href="um_restricted_post_content.html">um_restricted_post_content</a></li><li><a href="um_secure_register_form_banned_capabilities.html">um_secure_register_form_banned_capabilities</a></li><li><a href="um_select_dropdown_dynamic_options.html">um_select_dropdown_dynamic_options</a></li><li><a href="um_select_dropdown_dynamic_options_%257B$key%257D.html">um_select_dropdown_dynamic_options_{$key}</a></li><li><a href="um_select_options_pair.html">um_select_options_pair</a></li><li><a href="um_selectbox_options.html">um_selectbox_options</a></li><li><a href="um_setup_predefined_page_content.html">um_setup_predefined_page_content</a></li><li><a href="um_shortcode_args_filter.html">um_shortcode_args_filter</a></li><li><a href="um_skip_filter_users_by_status.html">um_skip_filter_users_by_status</a></li><li><a href="um_submit_form_data.html">um_submit_form_data</a></li><li><a href="um_submit_post_form.html">um_submit_post_form</a></li><li><a href="um_submitted_data_value.html">um_submitted_data_value</a></li><li><a href="um_tidy_config.html">um_tidy_config</a></li><li><a href="um_ultimatemember_account_shortcode_disable_singleton.html">um_ultimatemember_account_shortcode_disable_singleton</a></li><li><a href="um_ultimatemember_shortcode_disable_singleton.html">um_ultimatemember_shortcode_disable_singleton</a></li><li><a href="um_upload_allowed_image_mimes.html">um_upload_allowed_image_mimes</a></li><li><a href="um_upload_image_mimes_list.html">um_upload_image_mimes_list</a></li><li><a href="um_user_avatar_url_filter.html">um_user_avatar_url_filter</a></li><li><a href="um_user_permissions_filter.html">um_user_permissions_filter</a></li><li><a href="um_user_pre_updating_files_array.html">um_user_pre_updating_files_array</a></li><li><a href="um_user_profile_restricted_edit_fields.html">um_user_profile_restricted_edit_fields</a></li><li><a href="um_user_register_submitted__email.html">um_user_register_submitted__email</a></li><li><a href="um_user_statuses.html">um_user_statuses</a></li><li><a href="um_user_statuses_admin_filter_options.html">um_user_statuses_admin_filter_options</a></li><li><a href="um_view_field.html">um_view_field</a></li><li><a href="um_view_field_value_%257B$type%257D.html">um_view_field_value_{$type}</a></li><li><a href="um_view_label_%257B$key%257D.html">um_view_label_{$key}</a></li><li><a href="um_whitelisted_metakeys.html">um_whitelisted_metakeys</a></li><li><a href="um_wp_safe_redirect_fallback.html">um_wp_safe_redirect_fallback</a></li><li><a href="um_%257B$key%257D_form_edit_field.html">um_{$key}_form_edit_field</a></li><li><a href="um_%257B$key%257D_form_show_field.html">um_{$key}_form_show_field</a></li><li><a href="um_%257B$type%257D_form_show_field.html">um_{$type}_form_show_field</a></li></ul>
</nav>

<br class="clear">

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
