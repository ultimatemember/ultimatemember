"object"!=typeof window.UM&&(window.UM={}),"object"!=typeof UM.frontend&&(UM.frontend={}),UM.frontend={cropper:{obj:null,init:function(){let t=jQuery(".um-modal .um-modal-crop-wrapper img").first();if(t.length&&""!==t.attr("src")){UM.frontend.cropper.obj&&UM.frontend.cropper.destroy();var r=jQuery(".um-modal .um-modal-crop-wrapper"),o=t.parent().data("crop"),l=t.parent().data("min_width"),a=t.parent().data("min_height"),i=t.parent().data("ratio"),n=jQuery(".um-modal").find("#um_upload_single").data("ratio"),d=(n&&(i=n.split(":")[0]),jQuery(window).height()-(jQuery(".um-modal-buttons-wrapper").height()+20)-80-jQuery(".um-modal-header:visible").height()),n=new Image;n.src=t.attr("src"),new ResizeObserver((e,o)=>{o.disconnect(),t.css({height:"auto"}),r.css({height:"auto"}),r.css({height:d+"px","max-height":d+"px"}),t.css({height:"auto"})}).observe(n);let e;"square"===o?e={minWidth:l,minHeight:a,dragCrop:!1,aspectRatio:1,zoomable:!1,rotatable:!1,dashed:!1,scalable:!1}:"cover"===o?(0<Math.round(l/i)&&(a=Math.round(l/i)),e={minWidth:l,minHeight:a,dragCrop:!1,aspectRatio:i,zoomable:!1,rotatable:!1,dashed:!1,scalable:!1}):"user"===o&&(e={minWidth:l,minHeight:a,dragCrop:!0,aspectRatio:"auto",zoomable:!1,rotatable:!1,dashed:!1,scalable:!1}),e&&(UM.frontend.cropper.obj=new Cropper(t[0],e))}},destroy:function(){0<jQuery(".cropper-container").length&&UM.frontend.cropper.obj&&(UM.frontend.cropper.obj.destroy(),UM.frontend.cropper.obj=null)}},dropdown:{init:function(){var e=jQuery(".um-dropdown");e.length&&e.um_dropdownMenu()}},toggleElements:{init:function(){jQuery(document.body).on("click","[data-um-toggle]",function(e){e.preventDefault();let t=jQuery(this);if(!t.data("um-toggle-ignore")){t.data("um-toggle-ignore",!0);let o=jQuery(t.data("um-toggle"));(o=wp.hooks.applyFilters("um_toggle_block",o,t)).toggleClass("um-toggle-block-collapsed"),t.toggleClass("um-toggle-button-active");e=function(e){o.find(".um-toggle-block-inner").toggleClass("um-visible"),e||t.data("um-toggle-ignore",!1)};return o.hasClass("um-toggle-block-collapsed")?(e(!0),setTimeout(function(){t.data("um-toggle-ignore",!1)},500)):setTimeout(e,500),!1}})}},progressBar:{init:function(){jQuery(".um-progress-bar").each(function(){jQuery(this).find(".um-progress-bar-inner").css("width",jQuery(this).data("value")+"%")})},set:function(e,o){e.data("value",o).attr("title",o+"%"),e.find(".um-progress-bar-inner").css("width",o+"%").attr("title",o+"%"),e.siblings(".um-progress-bar-label").text(o+"%")}},responsive:{resolutions:{xs:320,s:576,m:768,l:992,xl:1024},getSize:function(e){var o,t=UM.frontend.responsive;for(o in t.resolutions)if(t.resolutions.hasOwnProperty(o)&&t.resolutions[o]===e)return o;return!1},setClass:function(){let l=UM.frontend.responsive,a=Object.values(l.resolutions);a.sort(function(e,o){return o-e}),jQuery(".um").each(function(){let r=jQuery(this);if(!r.hasClass("um-not-responsive")){let t=r.outerWidth();jQuery.each(a,function(e){e=l.getSize(a[e]);r.removeClass("um-ui-"+e)}),jQuery.each(a,function(e){var o=l.getSize(a[e]);return t>=a[e]||"xs"===o&&t<=a[e]?(r.addClass("um-ui-"+o),!1):void 0})}})}},uploaders:[],uploader:{init:function(){plupload.addFileFilter("um_files_limit",function(e,o,t){var r=this,l=wp.hooks.applyFilters("um_uploader_files_limit",r.files.length,r),o=(e&&e<=l?(this.trigger("Error",{code:-801,message:wp.i18n.__("Files limit error.","ultimate-member"),file:o}),t(!1)):t(!0),r.getOption("browse_button")[0]);let a=o.parentNode;e&&e-1<=l?(o.setAttribute("disabled","disabled"),(t=r.getOption("drop_element")[0])&&(a=t.parentNode,t.classList.add("um-dropzone-disabled"),e=t.querySelector(".um-upload-link"))&&e.classList.add("um-link-disabled"),wp.hooks.doAction("um_uploader_trigger_files_limit_true",a)):(o.removeAttribute("disabled"),r.getOption("drop_element")&&(l=r.getOption("drop_element")[0],a=l.parentNode,l.classList.remove("um-dropzone-disabled"),t=l.querySelector(".um-upload-link"))&&t.classList.remove("um-link-disabled"),wp.hooks.doAction("um_uploader_trigger_files_limit_false",a))}),jQuery(".um-uploader-button").each(function(){let n=jQuery(this),d=n.parents(".um-uploader");if(!d.data("plupload")){var o=d.find(".um-uploader-dropzone");let i=d.find(".um-uploader-filelist");var t=n.data("mime-types"),r=parseInt(n.data("max-size")),l=parseInt(n.data("max-files")),a=n.data("multiple"),u=n.data("handler"),s=n.data("nonce"),t={prevent_duplicates:!0,mime_types:t};0!==r&&(t.max_file_size=plupload.formatSize(r)),0!==l&&(t.um_files_limit=l);let e={browse_button:n.get(0),url:wp.ajax.settings.url+"?action=um_upload&handler="+u+"&nonce="+s,chunk_size:"1024kb",max_retries:1,multi_selection:a,filters:t,init:{Error:function(e,t){if(wp.hooks.doAction("um_uploader_error",d,e,t),void 0!==t.file&&i.length){i.umShow();let o=i.find("#"+t.file.id);if(o.length)o.addClass("um-upload-failed");else{var r=d.find(".um-uploader-file-placeholder").clone().addClass("um-uploader-file um-upload-failed").removeClass("um-uploader-file-placeholder um-display-none").attr("id",t.file.id);i.append(r),(o=i.find("#"+t.file.id)).find(".um-uploader-file-name").text(t.file.name);let e=t.file.name.split(".").pop();""===t.file.type&&(e="file"),o.find(".um-file-extension-text").text(e)}o.find(".um-supporting-text").html(t.message),o.find(".um-progress-bar-wrapper").remove(),wp.hooks.doAction("um_uploader_after_file_row_error",d,e,t,o)}},FileFiltered:function(t,r){var o=wp.hooks.applyFilters("um_uploader_file_filtered",null,n,t,r);if(null===o&&i.length){i.umShow(),t.getOption("multi_selection")||i.find(".um-uploader-file").each(function(e,o){t.removeFile(o.id)});o=i.find("#"+r.id);if(!o.length){var l=d.find(".um-uploader-file-placeholder").clone().addClass("um-uploader-file").removeClass("um-uploader-file-placeholder um-display-none").attr("id",r.id),a=[".um-uploaded-value",".um-uploaded-value-hash"];for(let o=0;o<a.length;o++){let e=l.find(a[o]).attr("name");e=e.replace("{{{file_id}}}",r.id),l.find(a[o]).prop("disabled",!1).attr("name",e)}i.append(l),(o=i.find("#"+r.id)).find(".um-uploader-file-name").text(r.name);let e=r.name.split(".").pop();""===r.type&&(e="file"),o.find(".um-file-extension-text").text(e),o.find(".um-supporting-text").text(plupload.formatSize(r.size)),i.hasClass("um-uploader-filelist-sortable")&&i.sortable()}}},FilesAdded:function(e,o){wp.hooks.doAction("um_uploader_files_added",d,e,o),o.length&&e.start()},FilesRemoved:function(e,o){o.length&&jQuery.each(o,function(e,o){jQuery("#"+o.id).remove()}),wp.hooks.doAction("um_uploader_files_removed",d,e,o)},FileUploaded:function(e,o,t){var r,l;200===t.status&&t.response?(l=JSON.parse(t.response))?l.info&&0===l.OK?null===wp.hooks.applyFilters("um_uploader_file_upload_failed",null,n,e,o,l)&&i.length&&((r=i.find("#"+o.id)).find(".um-supporting-text").text(l.info),r.addClass("um-upload-failed"),r.find(".um-progress-bar-wrapper").remove()):l.data&&null===wp.hooks.applyFilters("um_uploader_file_uploaded",null,n,e,o,l)&&(d.addClass("um-upload-completed"),i.length)&&((r=i.find("#"+o.id)).data("filename",l.data[0].name_saved).data("temp_hash",l.data[0].temp_hash).data("nonce",l.data[0].delete_nonce),r.find(".um-progress-bar-wrapper").remove()):null===wp.hooks.applyFilters("um_uploader_file_upload_failed",null,n,e,o,l)&&i.length&&((r=i.find("#"+o.id)).find(".um-supporting-text").text(wp.i18n.__("File was not loaded. Wrong file upload server response.","ultimate-member")),r.addClass("um-upload-failed"),r.find(".um-progress-bar-wrapper").remove()):null===wp.hooks.applyFilters("um_uploader_file_upload_failed",null,n,e,o,null)&&i.length&&((l=i.find("#"+o.id)).find(".um-supporting-text").text(wp.i18n.__("File was not loaded, Status Code ","ultimate-member")+t.status),l.addClass("um-upload-failed"),l.find(".um-progress-bar-wrapper").remove())},PostInit:function(e){},UploadProgress:function(e,o){wp.hooks.doAction("um_uploader_upload_progress",d,e,o);e=jQuery("#"+o.id).find(".um-progress-bar");e.length&&UM.frontend.progressBar.set(e,o.percent)},UploadComplete:function(e,o){wp.hooks.doAction("um_uploader_upload_complete",d,e,o)}}};o.length&&(e.drop_element=o.get(0)),(e=wp.hooks.applyFilters("um_uploader_data",e,u,n)).url&&(r=new plupload.Uploader(e),UM.frontend.uploaders[r.id]=r,d.data("plupload",r.id),r.init(),i.length)&&i.hasClass("um-uploader-filelist-sortable")&&null===wp.hooks.applyFilters("um_uploader_init_sortable_filelist",null,i,u)&&i.sortable()}})},initActions:function(){jQuery(document.body).on("dragover",".um-uploader-dropzone",function(e){let o=e.target;e.target.classList.contains("um-uploader-dropzone")||(o=o.closest(".um-uploader-dropzone")),jQuery(o).attr("drop-active",!0),e.preventDefault()}),jQuery(document.body).on("dragleave",".um-uploader-dropzone",function(e){e.preventDefault();let o=e.target;e.target.classList.contains("um-uploader-dropzone")||(o=o.closest(".um-uploader-dropzone")),jQuery(o).removeAttr("drop-active")}),jQuery(document.body).on("drop",".um-uploader-dropzone",function(e){e.preventDefault();let o=e.target;e.target.classList.contains("um-uploader-dropzone")||(o=o.closest(".um-uploader-dropzone")),jQuery(o).removeAttr("drop-active")}),jQuery(document.body).on("click",".um-upload-link:not(.um-link-disabled)",function(e){e.preventDefault(),jQuery(this).parents(".um-uploader").find(".um-uploader-button").trigger("click")}),jQuery(document.body).on("click",".um-uploader-file-remove",function(){if(!confirm(wp.i18n.__("Are you sure that you want to delete this file?","ultimate-member")))return!1;function e(){var e=l.attr("id"),o=UM.frontend.uploaders[r.data("plupload")],t=(wp.hooks.doAction("um_uploader_file_row_removed",l,e,o),o.getOption("filters").um_files_limit);o.removeFile(e),l.remove(),t&&o.files.length<t&&(o.getOption("browse_button")[0].removeAttribute("disabled"),t=o.getOption("drop_element")[0])&&(t.classList.remove("um-dropzone-disabled"),t=t.querySelector(".um-upload-link"))&&t.classList.remove("um-link-disabled"),wp.hooks.doAction("um_uploader_after_file_row_removed",r,e,o)}let r=jQuery(this).parents(".um-uploader"),l=jQuery(this).parents(".um-uploader-file");var o,t,a;l.attr("id")&&!l.hasClass("um-upload-failed")?(o=l.data("filename"),t=l.data("temp_hash"),a=l.data("nonce"),wp.ajax.send("um_delete_temp_file",{data:{name:o,hash:t,nonce:a},success:function(){e()},error:function(e){alert(e),console.log(e)}})):e()}),jQuery(document.body).on("click",".um-field-image-change",function(){if(!confirm(wp.i18n.__("Are you sure that you want to change this image?","ultimate-member")))return!1;jQuery(this).parents(".um-field-uploader-wrapper").find(".um-uploader").find(".um-uploader-button").trigger("click")}),jQuery(document.body).on("click",".um-field-image-remove",function(){var e,o,t=wp.i18n.__("Are you sure that you want to delete this image?","ultimate-member");if((t=wp.hooks.applyFilters("um-field-image-remove-confirm-text",t,jQuery(this)))&&!confirm(t))return!1;function r(){a.find(".um-uploaded-value-hidden").prop("disabled",!1),a.find(".um-uploaded-value-hash-hidden").prop("disabled",!1),a.find(".um-uploaded-value-temp-hash-hidden").prop("disabled",!1);var e,o,t=i.attr("id");t?(e=UM.frontend.uploaders[a.data("plupload")],wp.hooks.doAction("um_uploader_file_row_removed",i,t,e),o=e.getOption("filters").um_files_limit,e.removeFile(t),i.remove(),n.umShow(),l.umHide(),d.html("").umHide(),a.removeClass("um-upload-completed"),o&&e.files.length<o&&(e.getOption("browse_button")[0].removeAttribute("disabled"),o=e.getOption("drop_element")[0])&&(o.classList.remove("um-dropzone-disabled"),o=o.querySelector(".um-upload-link"))&&o.classList.remove("um-link-disabled"),wp.hooks.doAction("um_uploader_after_file_row_removed",a,t,e)):(i.remove(),n.umShow(),l.umHide(),d.html("").umHide(),a.removeClass("um-upload-completed"))}let l=jQuery(this).parents(".um-field-image-controls"),a=jQuery(this).parents(".um-field-uploader-wrapper").find(".um-uploader"),i=a.find(".um-uploader-file"),n=a.find(".um-uploader-dropzone"),d=a.find(".um-uploader-filelist");i.attr("id")&&!i.hasClass("um-upload-failed")?(t=i.data("filename"),e=i.data("temp_hash"),o=i.data("nonce"),wp.ajax.send("um_delete_temp_file",{data:{name:t,hash:e,nonce:o},success:function(){r()},error:function(e){alert(e),console.log(e)}})):r()}),jQuery(document.body).on("click",".um-field-file-change",function(){if(!confirm(wp.i18n.__("Are you sure that you want to change this file?","ultimate-member")))return!1;jQuery(this).parents(".um-field-uploader-wrapper").find(".um-uploader").find(".um-uploader-button").trigger("click")}),jQuery(document.body).on("click",".um-field-file-remove",function(){if(!confirm(wp.i18n.__("Are you sure that you want to delete this file?","ultimate-member")))return!1;let r=jQuery(this).parents(".um-field-file-controls");var e,o,t;function l(){a.find(".um-uploaded-value-hidden").prop("disabled",!1),a.find(".um-uploaded-value-hash-hidden").prop("disabled",!1),a.find(".um-uploaded-value-temp-hash-hidden").prop("disabled",!1);var e,o,t=i.attr("id");t?(e=UM.frontend.uploaders[a.data("plupload")],wp.hooks.doAction("um_uploader_file_row_removed",i,t,e),o=e.getOption("filters").um_files_limit,e.removeFile(t),i.remove(),n.umShow(),r.umHide(),d.html("").umHide(),a.removeClass("um-upload-completed"),o&&e.files.length<o&&(e.getOption("browse_button")[0].removeAttribute("disabled"),o=e.getOption("drop_element")[0])&&(o.classList.remove("um-dropzone-disabled"),o=o.querySelector(".um-upload-link"))&&o.classList.remove("um-link-disabled"),wp.hooks.doAction("um_uploader_after_file_row_removed",a,t,e)):(i.remove(),n.umShow(),r.umHide(),d.html("").umHide(),a.removeClass("um-upload-completed"))}let a=jQuery(this).parents(".um-field-uploader-wrapper").find(".um-uploader"),i=a.find(".um-uploader-file"),n=a.find(".um-uploader-dropzone"),d=a.find(".um-uploader-filelist");i.attr("id")&&!i.hasClass("um-upload-failed")?(e=i.data("filename"),o=i.data("temp_hash"),t=i.data("nonce"),wp.ajax.send("um_delete_temp_file",{data:{name:e,hash:o,nonce:t},success:function(){l()},error:function(e){alert(e),console.log(e)}})):l()})}},url:{parseData:function(){let o={};let t=window.location.search.substring(1).split("&");return jQuery.each(t,function(e){e=t[e].split("=");o[e[0]]=e[1]}),o},setURLSearchParam:function(e){if(null!==e&&"object"==typeof e&&!(e instanceof Array)){let t=new URL(window.location.href);Object.entries(e).forEach(([e,o])=>{t.searchParams.set(e,o)}),window.history.pushState({path:t.href},"",t.href)}},deleteURLSearchParam:function(e,o=!1){var t=new URL(window.location.href);t.searchParams.delete(e),o?window.location.assign(t):window.history.pushState({path:t.href},"",t.href)}},slider:{controlFromSlider:function(e,o){var[t,r]=UM.frontend.slider.getParsed(e,o);UM.frontend.slider.fillSlider(e,o,um_common_variables.colors.gray200,um_common_variables.colors.primary600bg,o),r<t&&(e.value=r)},controlToSlider:function(e,o){var[t,r]=UM.frontend.slider.getParsed(e,o);UM.frontend.slider.fillSlider(e,o,um_common_variables.colors.gray200,um_common_variables.colors.primary600bg,o),UM.frontend.slider.setToggleAccessible(o),o.value=t<=r?r:t},replacePlaceholder:function(t,r,l){t=t.closest(".um-range-container").querySelector(".um-range-placeholder");if(t&&t.dataset.placeholderS&&t.dataset.placeholderP&&t.dataset.label)if(r===l)t.innerHTML=t.dataset.placeholderS.replace("{{{value}}}",r).replace("{{{label}}}",t.dataset.label);else{let e=r,o=l;e>o?e=o:o<e&&(o=e),o===e?t.innerHTML=t.dataset.placeholderS.replace("{{{value}}}",e).replace("{{{label}}}",t.dataset.label):t.innerHTML=t.dataset.placeholderP.replace("{{{value_from}}}",e).replace("{{{value_to}}}",o).replace("{{{label}}}",t.dataset.label)}},getParsed:function(e,o){var t=parseInt(e.value,10),o=parseInt(o.value,10);return UM.frontend.slider.replacePlaceholder(e,t,o),[t,o]},fillSlider:function(e,o,t,r,l){var a=o.max-o.min,i=e.value-o.min,o=o.value-o.min,e=23/(e.offsetWidth/100);l.style.background=0==i?`linear-gradient(
				  to right,
				  transparent 0%,
				  transparent ${e}%,
				  ${t} ${i/a*100}%,
				  ${r} ${i/a*100}%,
				  ${r} ${o/a*100}%,
				  ${t} ${o/a*100}%,
				  ${t} 100%)`:`linear-gradient(
				  to right,
				  ${t} 0%,
				  ${t} ${i/a*100}%,
				  ${r} ${i/a*100}%,
				  ${r} ${o/a*100}%,
				  ${t} ${o/a*100}%,
				  ${t} 100%)`},setToggleAccessible:function(e){Number(e.value)<=e.min?e.style.zIndex=2:e.style.zIndex=0},init:function(){jQuery(".um-range-container").each(function(){let e=jQuery(this).find(".um-from-slider")[0],o=jQuery(this).find(".um-to-slider")[0];var t=jQuery(this).find(".um-sliders-control")[0];e&&o&&(UM.frontend.slider.fillSlider(e,o,um_common_variables.colors.gray200,um_common_variables.colors.primary600bg,o),UM.frontend.slider.setToggleAccessible(o),e.oninput=()=>UM.frontend.slider.controlFromSlider(e,o),o.oninput=()=>UM.frontend.slider.controlToSlider(e,o)),t&&(t.addEventListener("mouseover",function(){UM.frontend.slider.fillSlider(e,o,um_common_variables.colors.gray300,um_common_variables.colors.primary700bg,o)}),t.addEventListener("mouseout",function(){UM.frontend.slider.fillSlider(e,o,um_common_variables.colors.gray200,um_common_variables.colors.primary600bg,o)}),t=t.closest("form"))&&t.addEventListener("reset",function(){setTimeout(function(){UM.frontend.slider.fillSlider(e,o,um_common_variables.colors.gray200,um_common_variables.colors.primary600bg,o),UM.frontend.slider.replacePlaceholder(e,e.value,o.value)},1)})})}},image:{lazyload:{init:function(){let t=document.querySelectorAll(".um-image-lazyload-wrapper:not(.um-inited)");for(let o=0;o<t.length;o++){t[o].classList.add("um-inited");var e=t[o].querySelector(".um-image-lazyload");e.complete?t[o].classList.add("um-loaded"):e.addEventListener("load",e=>{t[o].classList.add("um-loaded")},!1)}}}}},wp.hooks.addAction("um_remove_modal","um_common_frontend",function(){UM.frontend.cropper.destroy()}),wp.hooks.addAction("um_after_removing_preview","um_common_frontend",function(){UM.frontend.cropper.destroy()}),wp.hooks.addAction("um_window_resize","um_common_frontend",function(){UM.frontend.cropper.destroy()}),wp.hooks.addAction("um_member_directory_loaded","um_common_frontend",function(){UM.frontend.dropdown.init()}),wp.hooks.addAction("um_member_directory_build_template","um_common_frontend",function(){UM.frontend.dropdown.init()}),jQuery(document).ready(function(o){UM.frontend.dropdown.init(),UM.frontend.toggleElements.init(),UM.frontend.progressBar.init(),UM.frontend.uploader.init(),UM.frontend.uploader.initActions(),UM.frontend.slider.init(),UM.frontend.image.lazyload.init(),o(window).on("resize",function(){UM.frontend.responsive.setClass()}),o(document.body).on("click",".um-alert-dismiss",function(e){e.preventDefault(),o(this).parents(".um-alert").umHide()})}),jQuery(window).on("load",function(){UM.frontend.responsive.setClass()});